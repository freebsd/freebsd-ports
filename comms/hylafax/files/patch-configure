--- configure.orig	Tue Dec 28 05:45:03 2004
+++ configure	Wed Jan 12 23:15:17 2005
@@ -43,8 +43,8 @@
 DIR_LIB=/usr/local/lib
 DIR_LIBEXEC=$DIR_SBIN
 DIR_SPOOL=/var/spool/hylafax
-DIR_HTML=/var/httpd/htdocs/hylafax
-DIR_CGI=/var/httpd/cgi-bin
+DIR_HTML=/usr/local/share/doc/hylafax
+DIR_CGI=/usr/local/share/doc/hylafax/cgi-bin
 PATH_DPSRIP=$DIR_LIBEXEC/ps2fax.exe
 PATH_IMPRIP=/usr/lib/print/psrip
 HTMLPATH=/hylafax
@@ -52,9 +52,9 @@
 DEFVRES=98
 PAGESIZE="North American Letter"
 FAXUID=uucp
-FAXGID=
-SYSUID=bin
-SYSGID=
+FAXGID=dialer
+SYSUID=root
+SYSGID=wheel
 DSO=auto
 GETTY=auto
 HTML=no
@@ -384,7 +384,7 @@
     -srcdir=*|--srcdir=*)	SRCDIR="$ac_optarg";;
     -target|--target)		ac_prev=TARGET;;
     -target=*|--target=*)	TARGET="$ac_optarg" ;;
-	-disable-pam|--disable-pam) DISABLE_PAM="yes" ;;
+    -disable-pam|--disable-pam)	DISABLE_PAM="yes" ;;
     -version|--version)
 	echo "This is HylaFAX configure $Revision: 1.106 $"
 	exit 0
@@ -1578,11 +1578,11 @@
 if [ "$DISABLE_PAM" != "yes" ]; then
 	Note "Checking for PAM (Pluggable Authentication Module) support"
 	CheckForLibrary pam_authenticate -lpam &&
-		CheckForLibrary misc_conv -lpam_misc -lpam &&
+		CheckForLibrary misc_conv -lpam &&
 		CheckForIncludeFile security/pam_appl.h &&
 		CheckForIncludeFile security/pam_misc.h && {
 			HAVE_PAM="#define HAVE_PAM 1"
-			PAMLIBS="-lpam -lpam_misc"
+			PAMLIBS="-lpam"
 		}
 	if [ "x$PAMLIBS" = "x" ]; then
 		Note "... not found. Disabling PAM support"
@@ -2661,5 +2661,4 @@
     CheckFuncDecl strtoul \
 	'extern unsigned long strtoul(const char*, char**, int);' stdlib.h
-    CheckFuncDecl cuserid 'extern char* cuserid(char*);' stdio.h
     #
     # unistd.h is for sco3.2v4.[0-2] and GNU libc (yech!)
@@ -2677,8 +2676,4 @@
     CheckStdio fdopen 'extern FILE* fdopen(int, const char*);'
     CheckStdio snprintf 'extern int snprintf(char*, size_t, const char*,...);'
-    CheckForFuncDecl vsnprintf stdio.h || {
-	echo '#include <stdarg.h>'
-	AddFuncDecl vsnprintf 'extern int vsnprintf(char*, size_t, const char*, va_list);'
-    }
     CheckForDefine fileno stdio.h || {
 	CheckStdio fileno 'extern int fileno(FILE*);'
@@ -3010,5 +3005,4 @@
 
 FUNCS="
-    cuserid
     flock
     ftruncate
@@ -3024,5 +3018,4 @@
     strtod
     strtoul
-    vsnprintf
     writev
 "
@@ -4326,18 +4326,8 @@
 
 HylaFAX configuration parameters (part 1 of 2) are:
 
-[ 1] Directory for applications:        $DIR_BIN
-[ 2] Directory for lib data files:      $DIR_LIBDATA
-[ 3] Directory for lib executables:     $DIR_LIBEXEC
-[ 4] Directory for system apps:  	$DIR_SBIN
-[ 5] Directory for manual pages:        $DIR_MAN
-[ 6] Directory for HTML documentation:  $DIR_HTML
-[ 7] Directory for spooling:            $DIR_SPOOL
-[ 8] Directory for uucp lock files:     $DIR_LOCKS
-[ 9] Uucp lock file scheme:             $LOCKS
 [10] PostScript imager package:         $PS
 [11] PostScript imager program:         $PATH_PSRIP
-[12] Manual page installation scheme:   $MANSCHEME
 [13] Default page size:                 $PAGESIZE
 [14] Default vertical res (lpi):        $DEFVRES
 
@@ -4353,16 +4343,11 @@
 [15] Location of getty program:         $PATH_GETTY
 [16] Location of voice getty program:   $PATH_VGETTY
 [17] Location of sendmail program:      $PATH_SENDMAIL
-[18] Location of TIFF tools:            $TIFFBIN
-[19] Location of SysV init scripts:	$DIR_SYSVINIT
-[20] Location of SysV start scripts:	$DIR_SYSVINITSTART
-[21] Location of SysV stop scripts:	$DIR_SYSVINITSTOP
-[22] Name of SysV start script:		$NAME_SYSVINITSTART
-[23] Name of SysV stop script:		$NAME_SYSVINITSTOP
 [24] Init script starts faxq:		$FAXQ_SERVER
 [25] Init script starts hfaxd		$HFAXD_SERVER
 [26] Start old protocol:		$HFAXD_OLD_PROTOCOL
 [27] Start paging protocol:		$HFAXD_SNPP_SERVER
+
 EOF
 }
   
@@ -4463,7 +4448,7 @@
     ok=skip
     while [ "$ok" != y ] && [ "$ok" != yes ]; do
 	if [ "$ok" != skip ]; then
-	    for i in 1 2 3 4 5 6 7 8 9 10 11 12 13 14 ; do
+	    for i in 10 11 13 14 ; do
 		promptForParameter $i;
 	    done
 	fi
@@ -4492,7 +4477,7 @@
     ok=skip
     while [ "$ok" != y ] && [ "$ok" != yes ]; do
 	if [ "$ok" != skip ]; then
-	    for i in 15 16 17 18 19 20 21 22 23 24 25 26 27 ; do
+	    for i in 15 16 17 24 25 26 27 ; do
 		promptForParameter $i;
 	    done
 	fi
