--- Makefile.orig	2010-02-05 19:50:30 UTC
+++ Makefile
@@ -2,7 +2,7 @@
 # Makefile with auto-dependency generation
 
 # Add Include directories here.
-INCLUDES = -I . 
+INCLUDES = -I . `${SDL_CONFIG} --cflags`
 
 # Automatic searching for source files.
 # Objects to compile are all sources (cpp) and put the .o below build-dir.
@@ -20,18 +20,17 @@ ifneq (,$(findstring Win,$(OS)))
 	LIMITER=$(dir \file)
 	CFLAGS+= -static-libgcc
 else
-	LIBRARIES= -lGL -lGLU -lSDL -lopenal -lalut
+	LIBRARIES= ${LDFLAGS} -lGL -lGLU `${SDL_CONFIG} --libs` -lopenal -lalut
 	TARGET=dist/linwarrior
 	MKDIR=mkdir
 	RM=rm -f
 	RMREC=rm -f -r
 	CP=cp
-	CPP=c++
+	CPP=${CXX}
 	LIMITER=/
 endif
 
 # Creation of dependency information when compiling.
-CFLAGS += -Wp,-M,-MP,-MT,$@,-MF,dep/$(subst /,-,$@).d
 
 # Print warnings when compiling.
 CFLAGS += -Wall
@@ -40,7 +39,6 @@ CFLAGS += -Wall
 CFLAGS += $(INCLUDES)
 
 # Optimizations.
-CFLAGS += -O1 -funroll-loops
 
 # Default makefile Target.
 all: $(TARGET)
