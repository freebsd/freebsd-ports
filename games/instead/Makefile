PORTNAME=	instead
PORTVERSION=	3.5.2
PORTREVISION=	2
CATEGORIES=	games
MASTER_SITES=	SF
DISTNAME=	${PORTNAME}_${PORTVERSION}

MAINTAINER=	amdmi3@FreeBSD.org
COMMENT=	Simple Text Adventure, The Interpreter
WWW=		https://instead.syscall.ru/

LICENSE=	MIT
LICENSE_FILE=	${WRKSRC}/COPYING

USES=		cmake compiler:c++11-lang iconv pkgconfig sdl
USE_SDL=	sdl2 image2 ttf2 mixer2

WRKSRC=		${WRKDIR}/${PORTNAME}-${PORTVERSION}

PORTDOCS=	*
PORTDATA=	*

OPTIONS_DEFINE=		LUAJIT DOCS HARFBUZZ
OPTIONS_DEFAULT=	LUAJIT GTK3
OPTIONS_RADIO=		GTK_VERSION
OPTIONS_RADIO_GTK_VERSION=	GTK2 GTK3

GTK_VERSION_DESC=	GTK version for file open dialog
GTK2_DESC=		Use GTK 2
GTK3_DESC=		Use GTK 3
LUAJIT_DESC=		Use LuaJIT instead of Lua
HARFBUZZ_DESC=		Build with HarfBuzz for RTL language support

GTK2_USES=		gnome
GTK2_USE=		GNOME=gtk20
GTK2_CMAKE_BOOL=	WITH_GTK2
GTK3_USES=		gnome
GTK3_USE=		GNOME=gtk30
GTK3_CMAKE_BOOL=	WITH_GTK3
LUAJIT_USES=		luajit
LUAJIT_USES_OFF=	lua:51
LUAJIT_CMAKE_BOOL=	WITH_LUAJIT
HARFBUZZ_CMAKE_BOOL=	WITH_HARFBUZZ
HARFBUZZ_LIB_DEPENDS=	libharfbuzz.so:print/harfbuzz

.include <bsd.port.mk>
