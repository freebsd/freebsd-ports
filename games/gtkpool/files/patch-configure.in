--- configure.in.orig	2002-08-16 07:27:48.000000000 +0900
+++ configure.in	2011-08-19 04:52:03.000000000 +0900
@@ -1,95 +1,12 @@
-dnl    This file is part of the KDE libraries/packages
-dnl    Copyright (C) 2001 Stephan Kulow (coolo@kde.org)
-dnl                       modified by Walter Tasin (tasin@kdevelop.org)
-dnl                       for c++ console applications
-
-dnl    This file is free software; you can redistribute it and/or
-dnl    modify it under the terms of the GNU Library General Public
-dnl    License as published by the Free Software Foundation; either
-dnl    version 2 of the License, or (at your option) any later version.
-
-dnl    This library is distributed in the hope that it will be useful,
-dnl    but WITHOUT ANY WARRANTY; without even the implied warranty of
-dnl    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
-dnl    Library General Public License for more details.
-
-dnl    You should have received a copy of the GNU Library General Public License
-dnl    along with this library; see the file COPYING.LIB.  If not, write to
-dnl    the Free Software Foundation, Inc., 59 Temple Place - Suite 330,
-dnl    Boston, MA 02111-1307, USA.
-
-# Original Author was Kalle@kde.org
-# I lifted it in some mater. (Stephan Kulow)
-# I used much code from Janos Farkas
-
-dnl Process this file with autoconf to produce a configure script.
-
-AC_INIT(acinclude.m4) dnl a source file from your sub dir
-
-dnl This is so we can use kde-common
-AC_CONFIG_AUX_DIR(admin)
-
-dnl This ksh/zsh feature conflicts with `cd blah ; pwd`
-unset CDPATH
-
-dnl Checking host/target/build systems, for make, install etc.
-AC_CANONICAL_SYSTEM
-dnl Perform program name transformation
-AC_ARG_PROGRAM
-
-dnl Automake doc recommends to do this only here. (Janos)
-AM_INIT_AUTOMAKE(gtkpool, 0.5.0) dnl searches for some needed programs
-
-dnl almost the same like KDE_SET_PEFIX but the path is /usr/local
-dnl
-unset CDPATH
-dnl make /usr/local the default for the installation
+AC_INIT(gtkpool/main.cpp)
+AM_INIT_AUTOMAKE(gtkpool, 0.5.0)
+AM_MAINTAINER_MODE
 AC_PREFIX_DEFAULT(/usr/local)
-
-if test "x$prefix" = "xNONE"; then
-  prefix=$ac_default_prefix
-  ac_configure_args="$ac_configure_args --prefix $prefix"
-fi
-KDE_FAST_CONFIGURE
-KDE_CONF_FILES
-
-dnl without this order in this file, automake will be confused!
-dnl
+AC_PROG_CXX
+AC_PROG_CPP
+AM_PATH_GTK_2_0(2.0.0,,AC_MSG_ERROR(GTK+ version less than 2.0!))
 AM_CONFIG_HEADER(config.h)
-
-dnl checks for programs.
-dnl first check for c/c++ compilers
-AC_CHECK_COMPILERS
-dnl CXXFLAGS="-DHAVE_CONFIG_H -I. -I.. -O2 -O0 -g3 -Wall `gtk-config --cflags` -lgtk -lgdk -lglib -lm -lX11 $USE_EXCEPTIONS"
-CXXFLAGS="-DHAVE_CONFIG_H -I. -I.. -O2 -O0 -Wall `gtk-config --cflags` -lgtk -lgdk -lglib -lm -lX11 $USE_EXCEPTIONS"
-
-dnl create only shared libtool-libraries
-AC_ENABLE_SHARED(yes)
-
-dnl set the following to yes, if you want to create static
-dnl libtool-libraries, too.
-AC_ENABLE_STATIC(no)
-
-dnl create a working libtool-script
-KDE_PROG_LIBTOOL
-
-dnl activate the next macro call for DLOPEN tests and setting LIBDL
-dnl   (n.b. KDE_MISC_TESTS does the same to you, so use either this or the next one)
-KDE_CHECK_DLOPEN
-
-dnl activate the next macro call for some additional tests
-dnl   (compat, crypt, socket, nsl, dlopen, ...)
-dnl KDE_MISC_TESTS
-
-KDE_CHECK_EXTRA_LIBS
-all_libraries="$all_libraries $USER_LDFLAGS"
-all_includes="$all_includes $USER_INCLUDES"
-AC_SUBST(all_includes)
-AC_SUBST(all_libraries)
-
-AC_SUBST(AUTODIRS)
-
-KDE_CREATE_SUBDIRSLIST
+AC_SUBST(CXXFLAGS)
 AC_OUTPUT( \
 ./Makefile \
 gtkpool/Makefile \
