--- Makefile.orig	Sun Aug 21 13:35:41 2005
+++ Makefile	Sun Aug 21 13:36:51 2005
@@ -51,10 +51,10 @@
 # If you are getting linker errors about not found X11 functions,
 # change the -L/usr/X11R6/lib to the directory where X11
 # libraries libX11.* and libXext.* are located on your system.
-CC      = gcc
-DEFINES = -DFMSX -DUNIX -DLSB_FIRST -DDEBUG -DMITSHM \
-          -DDISK -DNARROW -DSOUND -DBPP16 -DZLIB
-CFLAGS  = -O3 -Wall -I/usr/X11R6/include -L/usr/X11R6/lib ${DEFINES}
+CC      ?= gcc
+DEFINES = -DFMSX -DUNIX -DLSB_FIRST -DMITSHM \
+          -DDISK -DNARROW -DSOUND -D%%BPP%% -DZLIB
+CFLAGS  = -O3 -Wall -I${X11BASE}/include -L${X11BASE}/lib ${DEFINES}
 OBJECTS = fMSX.o MSX.o Patch.o Debug.o Disk.o Floppy.o Sound.o \
 	  Z80.o I8255.o AY8910.o YM2413.o SCC.o V9938.o I8251.o \
 	  Unix.o LibUnix.o SndUnix.o 
