--- configure.orig	2008-04-05 00:04:44.000000000 +0200
+++ configure	2008-04-07 19:06:49.000000000 +0200
@@ -31340,8 +31340,8 @@
 rm -f conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 if test "$ac_cv_search_pthread_key_create" = no; then
-  for ac_lib in pthread; do
-    LIBS="-l$ac_lib  $ac_func_search_save_LIBS"
+  for ac_lib in $PTHREAD_LIBS; do
+    LIBS="$ac_lib  $ac_func_search_save_LIBS"
     cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -31385,7 +31385,7 @@
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_search_pthread_key_create="-l$ac_lib"
+  ac_cv_search_pthread_key_create="$ac_lib"
 break
 else
   echo "$as_me: failed program was:" >&5
