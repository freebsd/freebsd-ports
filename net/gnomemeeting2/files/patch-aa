*** configure.in.orig	Tue Dec  4 21:52:21 2001
--- configure.in	Fri Dec  7 19:00:01 2001
*************** fi
*** 58,64 ****
  AC_ARG_WITH(ptlib-libs, [  --with-ptlib-libs=PFX       Location of PTLib libs.],
  	with_ptlib_libs="$withval", with_ptlib_libs="/usr/lib")
  if test "x${with_ptlib_libs}" != "xno" -a "x${have_ptlib_includes}" != "xno"; then
! 	AC_CHECK_FILE(${with_ptlib_libs}/libpt.so, ptlib_libs="yes", ptlib_libs="no")
  	
  	if test "x${ptlib_libs}" != "xno"; then
  		PTLIB_LDFLAGS="-L${with_ptlib_libs} ${H323_LIBS}"
--- 58,64 ----
  AC_ARG_WITH(ptlib-libs, [  --with-ptlib-libs=PFX       Location of PTLib libs.],
  	with_ptlib_libs="$withval", with_ptlib_libs="/usr/lib")
  if test "x${with_ptlib_libs}" != "xno" -a "x${have_ptlib_includes}" != "xno"; then
! 	AC_CHECK_FILE(${with_ptlib_libs}/libpt_FreeBSD_x86_r.a, ptlib_libs="yes", ptlib_libs="no")
  	
  	if test "x${ptlib_libs}" != "xno"; then
  		PTLIB_LDFLAGS="-L${with_ptlib_libs} ${H323_LIBS}"
*************** else
*** 70,76 ****
  	AC_MSG_ERROR([You need PTLib to enjoy GnomeMeeting])
  fi
  
! H323_LIBS="-lopenh323 -ldl -lpt -lpthread -lssl -lcrypto"
  
  dnl ***************************************
  dnl OpenH323
--- 70,77 ----
  	AC_MSG_ERROR([You need PTLib to enjoy GnomeMeeting])
  fi
  
! dnl H323_LIBS="-lopenh323 -ldl -lpt -lpthread -lssl -lcrypto"
! H323_LIBS="-lh323_FreeBSD_x86_r -lpt_FreeBSD_x86_r -pthread -lssl -lcrypto"
  
  dnl ***************************************
  dnl OpenH323
*************** AC_ARG_WITH(openh323-libs, [  --with-ope
*** 104,110 ****
  	with_openh323_libs="$withval", with_openh323_libs="/usr/lib")
  msg_openh323="no"
  if test "x${with_openh323_libs}" != "xno" -a "x${have_openh323_includes}" != "xno"; then
! 	AC_CHECK_FILE(${with_openh323_libs}/libopenh323.so, openh323_libs="yes", openh323_libs="no")
  	if test "x${openh323_libs}" != "xno"; then
  		msg_openh323="yes"
  		OPENH323_LDFLAGS="-L${with_openh323_libs} ${H323_LIBS}"
--- 105,111 ----
  	with_openh323_libs="$withval", with_openh323_libs="/usr/lib")
  msg_openh323="no"
  if test "x${with_openh323_libs}" != "xno" -a "x${have_openh323_includes}" != "xno"; then
! 	AC_CHECK_FILE(${with_openh323_libs}/libh323_FreeBSD_x86_r.a, openh323_libs="yes", openh323_libs="no")
  	if test "x${openh323_libs}" != "xno"; then
  		msg_openh323="yes"
  		OPENH323_LDFLAGS="-L${with_openh323_libs} ${H323_LIBS}"
*************** fi
*** 164,170 ****
  dnl *****************************
  
  LDAP_INCLUDES=""
! LDAP_LIBS="-lldap -llber -lresolv"
  
  
  AC_ARG_WITH(ldap, [  --with-ldap=PFX       Location of ldap.],
--- 165,171 ----
  dnl *****************************
  
  LDAP_INCLUDES=""
! LDAP_LIBS="-lldap -llber"
  
  
  AC_ARG_WITH(ldap, [  --with-ldap=PFX       Location of ldap.],
*************** dnl * -D_DEBUG -DPMEMORY_CHECK=1 -DPTRAC
*** 197,203 ****
  dnl *************************************************************************
  
  
! H323_CFLAGS="-DP_LINUX -D_REENTRANT -DP_HAS_SEMAPHORES -DP_PTHREADS -DPBYTE_ORDER=PLITTLE_ENDIAN -DHAS_OSS -O2"
  
  dnl *********************************************************************
  dnl * Gdk-pixbuf ********************************************************
--- 198,205 ----
  dnl *************************************************************************
  
  
! dnl H323_CFLAGS="-DP_LINUX -D_REENTRANT -DP_HAS_SEMAPHORES -DP_PTHREADS -DPBYTE_ORDER=PLITTLE_ENDIAN -DHAS_OSS -O2"
! H323_CFLAGS="-DP_FREEBSD=400001 -DP_SSL -DP_PTHREADS -DPBYTE_ORDER=PLITTLE_ENDIAN -O2"
  
  dnl *********************************************************************
  dnl * Gdk-pixbuf ********************************************************
*************** dnl ** GNOME ***************************
*** 225,231 ****
  dnl *********************************************************************
  
  GNOMEMEETING_INCLUDES="$GNOMEMEETING_INCLUDES $H323_CFLAGS $GDK_PIXBUF_CFLAGS $GCONF_CFLAGS $GNORBA_CFLAGS $ORBIT_CFLAGS"
! GNOMEMEETING_LDADD="$GNOMEMEETING_LDADD $GNOME_LIBDIR $GTK_LIBS $GNOMEGNORBA_LIBS $LDAP_LIBS $H323_LIBS `gtk-config --libs gthread` $GDK_PIXBUF_LIBS $GCONF_LIBS $GNORBA_LIBS $ORBIT_LIBS"
  
  GNOME_COMPILE_WARNINGS
  GNOME_X_CHECKS
--- 227,233 ----
  dnl *********************************************************************
  
  GNOMEMEETING_INCLUDES="$GNOMEMEETING_INCLUDES $H323_CFLAGS $GDK_PIXBUF_CFLAGS $GCONF_CFLAGS $GNORBA_CFLAGS $ORBIT_CFLAGS"
! GNOMEMEETING_LDADD="$GNOMEMEETING_LDADD $GNOME_LIBDIR $GTK_LIBS $GNOMEGNORBA_LIBS $LDAP_LIBS $H323_LIBS `$GTK_CONFIG --libs gthread` $GDK_PIXBUF_LIBS $GCONF_LIBS $GNORBA_LIBS $ORBIT_LIBS"
  
  GNOME_COMPILE_WARNINGS
  GNOME_X_CHECKS
*************** dnl ####################################
*** 236,242 ****
  dnl  Check for LDAP if available.
  dnl ########################################################################
  
! AC_CHECK_LIB(resolv, res_gethostbyaddr, [LIBS="-lresolv $LIBS"], AC_MSG_ERROR([*** libresolv not found.]), -lresolv)
  
  
  LIBS="$LDAP_LIBS $LIBS"
--- 238,244 ----
  dnl  Check for LDAP if available.
  dnl ########################################################################
  
! dnl AC_CHECK_LIB(resolv, res_gethostbyaddr, [LIBS="-lresolv $LIBS"], AC_MSG_ERROR([*** libresolv not found.]), -lresolv)
  
  
  LIBS="$LDAP_LIBS $LIBS"
