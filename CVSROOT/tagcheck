#! /bin/sh
#
# $FreeBSD$

# TAG  add/mov/del  repo  files...
# $1   $2           $3    $4   ...

case "$1" in
  RELENG*)
    ;;
  RELEASE*)
    ;;
  *)
    exit 0	# not reserved, ok.
    ;;
esac

USER=`/usr/bin/id -un`
case "$USER" in
  peter | jdp | markm | obrien | murray | jhb | bmah | scottl | kris | nik | marcus | krion)
    exit 0	# ok
    ;;
  *)
    echo "$USER does not have permission to perform this tag operation!" 1>&2
    echo "RELENG* tag operations are reserved for release engineering!" 1>&2
    echo "RELEASE* tag operations are reserved for portmgr and doceng!" 1>&2
    echo "Use 'cvs add' or 'cvs rm' to add/remove files from branches!" 1>&2
    echo "$*" | /usr/bin/mail -s "NCVS TAG" cvs
    exit 1
    ;;
esac
