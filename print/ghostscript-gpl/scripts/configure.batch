#! /bin/sh

# $FreeBSD$

# configure.batch - gs driver preconfiguration, batch mode
# by Andreas Klemm <andreas@FreeBSD.org>

cat - > ${WRKSRC}/src/unix-gcc.mak.new << !EOT
ifndef WITHOUT_X11
DEVICE_DEVS= \$(DD)x11.dev \$(DD)x11alpha.dev \$(DD)x11cmyk.dev \$(DD)x11cmyk2.dev \$(DD)x11cmyk4.dev \$(DD)x11cmyk8.dev \$(DD)x11gray2.dev \$(DD)x11gray4.dev \$(DD)x11mono.dev \$(DD)x11rg16x.dev \$(DD)x11rg32x.dev
endif

DEVICE_DEVS+= \$(DD)appledmp.dev \$(DD)iwhi.dev \$(DD)iwlo.dev \$(DD)iwlq.dev \$(DD)hl7x0.dev \$(DD)bj10e.dev \$(DD)bj200.dev \$(DD)bjc600.dev \$(DD)bjc800.dev \$(DD)lbp8.dev \$(DD)lips3.dev \$(DD)m8510.dev \$(DD)coslw2p.dev \$(DD)coslwxl.dev \$(DD)stp.dev \$(DD)uniprint.dev \$(DD)lj250.dev \$(DD)declj250.dev \$(DD)ap3250.dev \$(DD)epson.dev \$(DD)eps9mid.dev \$(DD)eps9high.dev \$(DD)lp8000.dev \$(DD)lq850.dev \$(DD)epsonc.dev \$(DD)st800.dev \$(DD)stcolor.dev \$(DD)photoex.dev \$(DD)lp2563.dev \$(DD)dnj650c.dev \$(DD)deskjet.dev \$(DD)djet500.dev \$(DD)cdeskjet.dev \$(DD)djet500c.dev \$(DD)cdjcolor.dev \$(DD)cdjmono.dev \$(DD)cdj500.dev \$(DD)cdj550.dev \$(DD)cdj670.dev \$(DD)cdj850.dev \$(DD)cdj880.dev \$(DD)cdj890.dev \$(DD)cdj1600.dev \$(DD)cdj970.dev \$(DD)laserjet.dev \$(DD)ljetplus.dev \$(DD)ljet2p.dev \$(DD)ljet3.dev \$(DD)ljet3d.dev \$(DD)ljet4.dev \$(DD)ljet4d.dev \$(DD)lj4dith.dev \$(DD)cljet5.dev \$(DD)cljet5c.dev \$(DD)cljet5pr.dev \$(DD)lj5mono.dev \$(DD)lj5gray.dev \$(DD)pj.dev \$(DD)pjetxl.dev \$(DD)pjxl.dev \$(DD)paintjet.dev \$(DD)pjxl300.dev \$(DD)pxlmono.dev \$(DD)pxlcolor.dev \$(DD)pcl3.dev \$(DD)hpdj.dev \$(DD)ijs.dev \$(DD)ibmpro.dev \$(DD)jetp3852.dev \$(DD)imagen.dev \$(DD)fs600.dev \$(DD)lxm5700m.dev \$(DD)cp50.dev \$(DD)necp6.dev \$(DD)oce9050.dev \$(DD)oki182.dev \$(DD)okiibm.dev \$(DD)atx23.dev \$(DD)atx24.dev \$(DD)atx38.dev \$(DD)r4081.dev \$(DD)sj48.dev \$(DD)bmpmono.dev \$(DD)bmpgray.dev \$(DD)bmp16.dev \$(DD)bmp256.dev \$(DD)bmp16m.dev \$(DD)bmp32b.dev \$(DD)bmpsep1.dev \$(DD)bmpsep8.dev \$(DD)ccr.dev \$(DD)cgmmono.dev \$(DD)cgm8.dev \$(DD)cgm24.dev \$(DD)cif.dev \$(DD)dfaxhigh.dev \$(DD)dfaxlow.dev \$(DD)faxg3.dev \$(DD)faxg32d.dev \$(DD)faxg4.dev \$(DD)miff24.dev \$(DD)inferno.dev \$(DD)jpeg.dev \$(DD)jpeggray.dev \$(DD)mgrmono.dev \$(DD)mgrgray2.dev \$(DD)mgrgray4.dev \$(DD)mgrgray8.dev \$(DD)mgr4.dev \$(DD)mgr8.dev \$(DD)pcxmono.dev \$(DD)pcxgray.dev \$(DD)pcx16.dev \$(DD)pcx256.dev \$(DD)pcx24b.dev \$(DD)pcxcmyk.dev \$(DD)pdfwrite.dev \$(DD)bit.dev \$(DD)bitrgb.dev \$(DD)bitcmyk.dev \$(DD)plan9bm.dev \$(DD)pbm.dev \$(DD)pbmraw.dev \$(DD)pgm.dev \$(DD)pgmraw.dev \$(DD)pgnm.dev \$(DD)pgnmraw.dev \$(DD)pnm.dev \$(DD)pnmraw.dev \$(DD)ppm.dev \$(DD)ppmraw.dev \$(DD)pkm.dev \$(DD)pkmraw.dev \$(DD)pksm.dev \$(DD)pksmraw.dev \$(DD)pngmono.dev \$(DD)pnggray.dev \$(DD)png16.dev \$(DD)png256.dev \$(DD)png16m.dev \$(DD)psmono.dev \$(DD)psgray.dev \$(DD)psrgb.dev \$(DD)pswrite.dev \$(DD)epswrite.dev \$(DD)sgirgb.dev \$(DD)sunhmono.dev \$(DD)t4693d2.dev \$(DD)t4693d4.dev \$(DD)t4693d8.dev \$(DD)tek4696.dev \$(DD)tiffcrle.dev \$(DD)tiffg3.dev \$(DD)tiffg32d.dev \$(DD)tiffg4.dev \$(DD)tiff12nc.dev \$(DD)tiff24nc.dev \$(DD)tifflzw.dev \$(DD)tiffpack.dev
!EOT

# create one new Makefile, where DEVICE_DEVS contains all wanted devices
sed -e '/^DEVICE_DEVS=/d' ${WRKSRC}/src/unix-gcc.mak \
	>> ${WRKSRC}/src/unix-gcc.mak.new
mv ${WRKSRC}/src/unix-gcc.mak.new ${WRKSRC}/src/unix-gcc.mak
