# New ports collection makefile for:	srvx
# Date created:				2003-11-28
# Whom:					Walter Venable <weaseal@hotmail.com>
#
# $FreeBSD$
#

PORTNAME=	srvx
PORTVERSION=	1.3
CATEGORIES=	irc net
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE}
MASTER_SITE_SUBDIR=	srvx

MAINTAINER=	weaseal@users.sourceforge.net
COMMENT=	Srvx IRC services

GNU_CONFIGURE=		yes
CONFIGURE_TARGET=	--build=${MACHINE_ARCH}-portbld-freebsd${OSREL}

.if defined(WITH_DEBUG)
CONFIGURE_ARGS+=	--enable-debug
.endif

.if defined(WITH_PROTOCOL_BAHAMUT)
CONFIGURE_ARGS+=	--with-protocol=bahamut
.endif

PLIST_FILES=	bin/srvx 					\
		etc/srvx.conf.example				\
		etc/sockcheck.conf.example 			\
		share/doc/${PORTNAME}/chanserv.help 		\
		share/doc/${PORTNAME}/global.help 		\
		share/doc/${PORTNAME}/mod-helpserv.help		\
		share/doc/${PORTNAME}/mod-memoserv.help 	\
		share/doc/${PORTNAME}/mod-sockcheck.help	\
		share/doc/${PORTNAME}/modcmd.help 		\
		share/doc/${PORTNAME}/nickserv.help	 	\
		share/doc/${PORTNAME}/opserv.help 		\
		share/doc/${PORTNAME}/saxdb.help	 	\
		share/doc/${PORTNAME}/sendmail.help
PLIST_DIRS=	share/doc/${PORTNAME}

pre-fetch:
	@ ${ECHO} ""
	@ ${ECHO} "--------------------------------------------------------------------------------"
	@ ${ECHO} ""
	@ ${ECHO} "The following build options are availabe:"
	@ ${ECHO} ""
	@ ${ECHO} "	WITH_PROTOCOL_BAHAMUT=yes	Enables Bahamut protocol"
	@ ${ECHO} "					(P10 is default)."
	@ ${ECHO} ""
	@ ${ECHO} "	WITH_DEBUG=yes			Enables debug mode."
	@ ${ECHO} ""
	@ ${ECHO} "--------------------------------------------------------------------------------"
	@ ${ECHO} ""

post-install:
	@ ${ECHO} ""
	@ ${ECHO} "	When you 'make deinstall', any files generated by ${PORTNAME} (logs, etc)"
	@ ${ECHO} "	will remain in ${PREFIX}/etc/. These files must be removed manually."
	@ ${ECHO} ""
	@ ${ECHO} "	${PORTNAME} .help files are located in ${DOCSDIR}."
	@ ${ECHO} ""

.include <bsd.port.mk>
