--- Imakefile.orig	Wed Aug 25 07:00:29 2004
+++ Imakefile	Sun Nov 21 13:48:06 2004
@@ -1,15 +1,17 @@
 XCOMM Should install to /usr or /usr/local ??
-DESTDIR=/usr
+DESTDIR=${PREFIX}
 
 XCOMM Name of man subdirectory of DESTDIR:
-MANDIR=/X11R6/man/man1
+MANDIR=/man/man1
 
 XCOMM Name of bin subdirectory of DESTDIR: /X11R6/bin or maybe just  /bin
-BINDIR=/X11R6/bin
+BINDIR=/bin
 
 XCOMM Name of share subdirectory of DESTDIR:
 SHAREDIR=/share/sunclock
 
+DOCHTMLDIR=/lib/X11/doc/html
+
 XCOMM
 XCOMM Compile options:
 XCOMM
@@ -38,13 +40,13 @@
 #CCOPTIONS=-O -DZLIB -DNEW_CTIME -DSHAREDIR=\"$(DESTDIR)$(SHAREDIR)\"
 
 # Solaris, Linux
-#XPMLIBDIR=-L/usr/X11R6/lib
-#XPMINC=-I/usr/X11R6/include/X11
-#JLIBDIR=-L/usr/lib
-#ZLIBDIR=-L/usr/lib
-#JINC=-I/usr/include
-
-CCOPTIONS=-O -DZLIB -DSHAREDIR=\"$(DESTDIR)$(SHAREDIR)\"
+XPMLIBDIR=-L${X11BASE}/lib
+XPMINC=-I${X11BASE}/include/X11
+JLIBDIR=-L${LOCALBASE}/lib
+ZLIBDIR=-L${LOCALBASE}/lib
+JINC=-I${LOCALBASE}/include
+CCOPTIONS=-O -DZLIB -DSHAREDIR=\"$(DESTDIR)$(SHAREDIR)\" -DNEW_CTIME -I${LOCALBASE}/include
+INCLUDES+=	-I${LOCALBASE}/include
 #endif
 
 SRCS=sunclock.c astro.c widgets.c tildepath.c dirlist.c \
@@ -52,7 +54,7 @@
 OBJS=sunclock.o astro.o widgets.o tildepath.o dirlist.o \
      readvmf.o readxpm.o readgif.o readjpeg.o readpng.o
 LOCAL_LIBRARIES=$(XLIB) $(XPMLIBDIR) -lXpm $(ZLIBDIR) -lz \
-     $(JLIBDIR) -ljpeg -lpng -lm
+     $(JLIBDIR) -ljpeg -lpng -lm -lcompat
 DEPLIBS=		# I don't know what I'm doing, and I hate imake!
 
 ComplexProgramTarget(sunclock)
