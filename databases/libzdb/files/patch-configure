--- configure.orig	Fri Feb 16 05:10:48 2007
+++ configure	Mon Feb 26 14:33:53 2007
@@ -19459,7 +19459,7 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lpthread  $LIBS"
+LIBS="%%PTHREAD_LIBS%%  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -19522,7 +19522,7 @@
 #define HAVE_LIBPTHREAD 1
 _ACEOF
 
-  LIBS="-lpthread $LIBS"
+  LIBS="%%PTHREAD_LIBS%% $LIBS"
 
 else
   { { echo "$as_me:$LINENO: error: POSIX thread library is required" >&5
@@ -19548,8 +19548,8 @@
         else
                 svd_LDFLAGS=$LDFLAGS
                 svd_CPPFLAGS=$CPPFLAGS
-                LDFLAGS="-L$with_mysql/lib $LDFLAGS"
-                CPPFLAGS="-I$with_mysql/include $CPPFLAGS"
+                LDFLAGS="-L$with_mysql/lib/mysql $LDFLAGS"
+                CPPFLAGS="-I$with_mysql/include/mysql $CPPFLAGS"
 
 for ac_header in mysql.h
 do
@@ -19697,9 +19697,9 @@
 _ACEOF
 
                         mysql="yes"
-                        if test -r "$with_mysql/lib/libmysqlclient.a"; then
-                                DBCPPFLAGS="$DBCPPFLAGS -I$with_mysql/include"
-                                DBLDFLAGS="$DBLDFLAGS -L$with_mysql/lib/ -lmysqlclient"
+                        if test -r "$with_mysql/lib/mysql/libmysqlclient.a"; then
+                                DBCPPFLAGS="$DBCPPFLAGS -I$with_mysql/includemysql"
+                                DBLDFLAGS="$DBLDFLAGS -L$with_mysql/lib/mysql -lmysqlclient"
                         else
                                 mysql="no"
                         fi
