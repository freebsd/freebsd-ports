# Created by: glewis
# $FreeBSD$

PORTNAME=	mybatis
PORTVERSION=	3.0.3
PORTREVISION=	1
CATEGORIES=	databases devel java
MASTER_SITES=	GOOGLE_CODE
PKGNAMEPREFIX=	java-
DISTFILES=	${PORTNAME}-${PORTVERSION}-bundle${EXTRACT_SUFX}

MAINTAINER=	glewis@FreeBSD.org
COMMENT=	SQL Mapping Framework

BROKEN=		Unfetchable
DEPRECATED=	Broken for more than 6 months
EXPIRATION_DATE=	2015-11-26

EXTRACT_ONLY=	${PORTNAME}-${PORTVERSION}-bundle${EXTRACT_SUFX}

USE_JAVA=	yes
USES=		zip
LICENSE=	APACHE20
NO_BUILD=	yes

JAR_FILE=	${PORTNAME}-${PORTVERSION}.jar
DEST_JAR_FILE=	${PORTNAME}.jar
USER_GUIDE=	MyBatis-${PORTVERSION}-User-Guide.pdf

PLIST_FILES+=	%%JAVAJARDIR%%/${DEST_JAR_FILE}
PORTDOCS=	*

OPTIONS_DEFINE=	DOCS
DOCS_DISTFILES=	${USER_GUIDE}

.include <bsd.port.options.mk>

do-install:
	@${INSTALL_DATA} ${WRKSRC}/${JAR_FILE} ${STAGEDIR}${JAVAJARDIR}/${DEST_JAR_FILE}
.if ${PORT_OPTIONS:MDOCS}
	@-${MKDIR} ${STAGEDIR}${DOCSDIR}
.for f in LICENSE NOTICE
	@${INSTALL_DATA} ${WRKSRC}/${f} ${STAGEDIR}${DOCSDIR}
.endfor
	@${INSTALL_DATA} ${DISTDIR}/${USER_GUIDE} ${STAGEDIR}${DOCSDIR}
.endif

.include <bsd.port.mk>
