--- configure.orig	Sun Dec 21 19:03:09 2003
+++ configure	Wed Dec 24 10:40:53 2003
@@ -9069,7 +9070,7 @@
   ;;
 esac
 fi
-HOSTNAME=$ac_cv_path_HOSTNAME
+HOSTNAME="$ac_cv_path_HOSTNAME -s"
 
 if test -n "$HOSTNAME"; then
   echo "$as_me:$LINENO: result: $HOSTNAME" >&5
@@ -9261,43 +9262,8 @@
 echo "$as_me:$LINENO: checking \"how to check if pid exists\"" >&5
 echo $ECHO_N "checking \"how to check if pid exists\"... $ECHO_C" >&6
 PS=$ac_cv_path_PS
-# Linux style
-if $PS p $$ 2> /dev/null | grep $0 > /dev/null
-then
-  FIND_PROC="$PS p \$\$PID | grep mysqld > /dev/null"
-# Solaris
-elif $PS -p $$ 2> /dev/null | grep $0 > /dev/null
-then
-  FIND_PROC="$PS -p \$\$PID | grep mysqld > /dev/null"
 # BSD style
-elif $PS -uaxww 2> /dev/null | grep $0 > /dev/null
-then
   FIND_PROC="$PS -uaxww | grep mysqld | grep \" \$\$PID \" > /dev/null"
-# SysV style
-elif $PS -ef 2> /dev/null | grep $0 > /dev/null
-then
-  FIND_PROC="$PS -ef | grep mysqld | grep \" \$\$PID \" > /dev/null"
-# Do anybody use this?
-elif $PS $$ 2> /dev/null | grep $0 > /dev/null
-then
-  FIND_PROC="$PS \$\$PID | grep mysqld > /dev/null"
-else
-  case $SYSTEM_TYPE in
-    *darwin*)
-      FIND_PROC="$PS -uaxww | grep mysqld | grep \" \$\$PID \" > /dev/null"
-      ;;
-    *cygwin*)
-      FIND_PROC="$PS -e | grep mysqld | grep \" \$\$PID \" > /dev/null"
-      ;;
-    *netware*)
-      FIND_PROC=
-      ;;
-    *)
-      { { echo "$as_me:$LINENO: error: Could not find the right ps switches. Which OS is this ?. See the Installation chapter in the Reference Manual." >&5
-echo "$as_me: error: Could not find the right ps switches. Which OS is this ?. See the Installation chapter in the Reference Manual." >&2;}
-   { (exit 1); exit 1; }; }
-  esac
-fi
 
 echo "$as_me:$LINENO: result: \"$FIND_PROC\"" >&5
 echo "${ECHO_T}\"$FIND_PROC\"" >&6
@@ -12678,8 +12644,8 @@
 # Some system specific hacks
 #
 
-MAX_C_OPTIMIZE="-O3"
-MAX_CXX_OPTIMIZE="-O3"
+MAX_C_OPTIMIZE=""
+MAX_CXX_OPTIMIZE=""
 
 case $SYSTEM_TYPE in
   *solaris2.7*)
@@ -23893,7 +23859,7 @@
 	/* ) rel_srcdir="$srcdir" ;;
 	* )  rel_srcdir="../$srcdir" ;;
     esac
-    if test "x$enable_dependency_tracking" == xno
+    if test "x$enable_dependency_tracking" = xno
     then
       innodb_conf_flags=--disable-dependency-tracking
     fi
