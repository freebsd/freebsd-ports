PORTNAME=	cpr
PORTVERSION=	1.12.0
CATEGORIES=	www

MAINTAINER=	sunpoet@FreeBSD.org
COMMENT=	C++ Requests: Curl for People
WWW=		https://github.com/libcpr/cpr

LICENSE=	MIT
LICENSE_FILE=	${WRKSRC}/LICENSE

LIB_DEPENDS=	libcurl.so:ftp/curl

USES=		cmake compiler:c++17-lang ssl

CMAKE_OFF=	CPR_BUILD_TESTS \
		CPR_BUILD_TESTS_PROXY \
		CPR_BUILD_TESTS_SSL \
		CPR_BUILD_VERSION_OUTPUT_ONLY \
		CPR_CURL_NOSIGNAL \
		CPR_DEBUG_SANITIZER_FLAG_ADDR \
		CPR_DEBUG_SANITIZER_FLAG_ALL \
		CPR_DEBUG_SANITIZER_FLAG_LEAK \
		CPR_DEBUG_SANITIZER_FLAG_THREAD \
		CPR_DEBUG_SANITIZER_FLAG_UB \
		CPR_ENABLE_CPPCHECK \
		CPR_ENABLE_CURL_HTTP_ONLY \
		CPR_ENABLE_LINTING \
		CPR_GENERATE_COVERAGE \
		CPR_USE_BOOST_FILESYSTEM \
		CPR_USE_SYSTEM_GTEST \
		CURL_VERBOSE_LOGGING
CMAKE_ON=	BUILD_SHARED_LIBS \
		CPR_ENABLE_SSL \
		CPR_SKIP_CA_BUNDLE_SEARCH \
		CPR_USE_SYSTEM_CURL

PLIST_SUB=	PORTVERSION=${PORTVERSION}

USE_GITHUB=	yes
GH_ACCOUNT=	libcpr

.include <bsd.port.mk>
