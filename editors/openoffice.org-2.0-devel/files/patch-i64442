Index: jvmfwk/plugins/sunmajor/pluginlib/gnujre.cxx
===================================================================
RCS file: /cvs/udk/jvmfwk/plugins/sunmajor/pluginlib/gnujre.cxx,v
retrieving revision 1.7
diff -u -r1.7 gnujre.cxx
--- jvmfwk/plugins/sunmajor/pluginlib/gnujre.cxx	16 Mar 2006 13:13:00 -0000	1.7
+++ jvmfwk/plugins/sunmajor/pluginlib/gnujre.cxx	18 Apr 2006 21:50:36 -0000
@@ -67,8 +67,8 @@
           "/lib64/libgcj.so.7",
           "/lib64/libgcj.so.6"
 #else
-          "/lib/libgcj.so.7",
-          "/lib/libgcj.so.6"
+          "/libgcj.so.7",
+          "/libgcj.so.6"
 #endif
     };
     *size = sizeof(ar) / sizeof (char*);
@@ -87,7 +87,7 @@
     OUString sVersionProperty(
         RTL_CONSTASCII_USTRINGPARAM("java.version"));
     OUString sHomeProperty(
-        RTL_CONSTASCII_USTRINGPARAM("java.home"));
+        RTL_CONSTASCII_USTRINGPARAM("gnu.classpath.home.url"));
     OUString sAccessProperty(
         RTL_CONSTASCII_USTRINGPARAM("javax.accessibility.assistive_technologies"));
 
@@ -111,19 +111,8 @@
         }
         else if (!bHome && sHomeProperty.equals(i->first))
         {
-           OUString fileURL;
-           if (osl_getFileURLFromSystemPath(i->second.pData,& fileURL.pData) ==
-               osl_File_E_None)
-           {
-               //make sure that the drive letter have all the same case
-               //otherwise file:///c:/jre and file:///C:/jre produce two
-               //different objects!!!
-               if (makeDriveLetterSame( & fileURL))
-               {
-                   m_sHome = fileURL;
-                   bHome = true;
-               }
-           }
+          m_sHome = i->second;
+          bHome = true;
         }
         else if (!bAccess && sAccessProperty.equals(i->first))
         {
