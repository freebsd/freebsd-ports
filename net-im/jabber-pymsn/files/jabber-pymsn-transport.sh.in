#!/bin/sh
#
# $FreeBSD$
#
# PROVIDE: jabber_pymsn
# REQUIRE: DAEMON
# BEFORE: LOGIN
# KEYWORD: shutdown
#
# Define these jabber_pymsn_* variables in one of these files:
#       /etc/rc.conf
#       /etc/rc.conf.local
#

. %%RC_SUBR%%

name="jabber_pymsn"
rcvar=`set_rcvar`

load_rc_config $name

: ${jabber_pymsn_dir="%%PREFIX%%/lib/jabber/pymsn"}
: ${jabber_pymsn_piddir="/var/jabberd/pid"}
: ${jabber_pymsn_enable="NO"}

jabber_pymsn_chdir=${jabber_pymsn_dir}

pidfile="${jabber_pymsn_piddir}/pymsn.pid"
command_interpreter="%%PYTHON_CMD%%"
command="${jabber_pymsn_dir}/main.py"
command_args="-o pid=${pidfile} &"

run_rc_command "$1"
