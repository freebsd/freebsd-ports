PORTNAME=	octave-forge
PORTVERSION=	20250808
CATEGORIES=	math

MAINTAINER=	stephen@FreeBSD.org
COMMENT=	Octave-forge metaport for math/octave
WWW=		http://octave.sourceforge.net/

BROKEN_armv7=	takes very long time in post-install due to O(n^2) behaviour

USES=		metaport

OPTIONS_DEFINE=	AUDIO ACTUARIAL AUTOMATIC_DIFFERENTIATION \
		BENCHMARK BIM BIOINFO BIOSIG BSLTL CFITSIO CGI \
		CHARTJS CIVIL_ENGINEERING CODER COMMUNICATIONS CONTROL \
	        CSG_DATASET CSG_TOOLKIT DATA_SMOOTHING \
		DATABASE DATAFRAME DATATYPES DICOM DIVAND DOCTEST ECONOMETRICS \
		FDA FEMOCTAVE FENV FILEIO FINANCIAL FITS FL_CORE \
		FPL FUZZY_LOGIC_TOOLKIT GA GEOGRAPHICLIB \
		GEOMETRY GENERAL \
		GENERATE_HTML GNUPLOT GSL HDF5OCT IDENT IMAGE \
		INFORMATIONTHEORY INTEGRATION INTERNAL_FLUID_FLOW \
		INTERVAL IO IRSA LEVEL_SET \
		LINEAR_ALGEBRA LSSA LTFAT \
		MAPPING MATGEOM MCCABE_THIELE \
		MECHANICS MISCELLANEOUS MISSING_FUNCTIONS MPI MQTT MSH \
		MULTICORE MVN NAN NCARRAY NETCDF NLWING2 NNET NURBS \
		OCT2MAT OCTAVE_PHP_WRAPPER OCTAVE_POOL OCTAVE_TAR OCTAVE_ZSTD \
		OCTCLIP OCTPROJ ODBC ODEBVP OPTICS \
		OPTIM OPTIMINTERP OUTLIERS PARALLEL PKG_OCTAVE_DOC PDE1DM PLOT \
		PIQP PONCHON_SAVARIT PROMPT PSYCHROMETRICS PYTHONIC QUATERNION \
		QUEUEING RTREE SECS1D SECS2D SECS3D SIGNAL SIMP SOCKETS SOLE \
		SPECFUN \
		SPARSERSB SPECIAL_MATRIX SPLINES SQLITE STATISTICS \
		STATISTICS_RESAMPLING STK STRINGS \
		STRUCT SYMBAND SYMBOLIC TABLICIOUS TCL_OCTAVE TIMER \
		TSA VIDEO VELAS \
		WEBSOCKETS ZENITY ZEROMQ

OPTIONS_DEFAULT=	${OPTIONS_DEFINE:NBIOINFO:NCHARTJS:NDATA_SMOOTHING:NDATABASE:NECONOMETRICS:NFITS:NGNUPLOT:NINFORMATIONTHEORY:NIRSA:NLEVEL_SET:NMECHANICS:NMPI:NNNET:NNLWING2:NPIQP:NPLOT:NOPTIM:NSYMBAND:NSPECFUN}

OCTAVE_TARBALLS_DIR=		${LOCALBASE}/share/octave/tarballs

.for OPT in ${OPTIONS_DEFINE}
. if ${OPTIONS_DEFINE:MGENERATE_HTML} == ${OPT} \
	|| ${OPTIONS_DEFINE:MOCTAVE_PHP_WRAPPER} == ${OPT} \
	|| ${OPTIONS_DEFINE:MOCTAVE_TAR} == ${OPT} \
	|| ${OPTIONS_DEFINE:MOCTAVE_ZSTD} == ${OPT}
${OPT}_DESC=		Install package: ${OPT:tl}
${OPT}_RUN_DEPENDS=	${OCTAVE_TARBALLS_DIR}/${OPT:tl}.tar.gz:math/octave-forge-${OPT:tl}
. else
${OPT}_DESC=		Install package: ${OPT:tl:S/_/-/g}
.  if ${OPTIONS_DEFINE:MBENCHMARK} == ${OPT}
${OPT}_RUN_DEPENDS=	${OCTAVE_TARBALLS_DIR}/${OPT:tl:S/_/-/g}.tar.gz:benchmarks/octave-forge-${OPT:tl:S/_/-/g}
.  else
${OPT}_RUN_DEPENDS=	${OCTAVE_TARBALLS_DIR}/${OPT:tl:S/_/-/g}.tar.gz:math/octave-forge-${OPT:tl:S/_/-/g}
.  endif
. endif
.endfor

.include <bsd.port.mk>
