# Created by: bart <bart@bureau>
# $FreeBSD$

PORTNAME=	pdal
PORTVERSION=	0.9.8
CATEGORIES=	math databases graphics

MAINTAINER=	coder@tuxfamily.org
COMMENT=	Library for translating and manipulating point cloud data

LICENSE=	BSD3CLAUSE
LICENSE_FILE=	${WRKSRC}/LICENSE.txt

USES=		cmake compiler:c++11-lang
USE_LDCONFIG=	yes
USE_GITHUB=	yes
GH_ACCOUNT=	${PORTNAME:tu}
GH_PROJECT=	${GH_ACCOUNT}

OPTIONS_DEFINE=	GDAL GEOTIFF LIBXML2 EMBED_BOOST
OPTIONS_DEFAULT=	GDAL GEOTIFF LIBXML2
OPTIONS_SUB=	yes

GDAL_DESC=		Enable GDAL support
GDAL_CMAKE_ON=		-DWITH_GDAL:BOOL=TRUE
GDAL_LIB_DEPENDS=	libgdal.so:${PORTSDIR}/graphics/gdal
GDAL_CMAKE_OFF=		-DWITH_GDAL:BOOL=FALSE

GEOTIFF_CMAKE_ON=	-DWITH_GEOTIFF:BOOL=TRUE
GEOTIFF_LIB_DEPENDS=	libgeotiff.so:${PORTSDIR}/graphics/libgeotiff
GEOTIFF_CMAKE_OFF=	-DWITH_GEOTIFF:BOOL=FALSE

LIBXML2_CMAKE_ON=	-DWITH_LIBXML2:BOOL=TRUE
LIBXML2_LIB_DEPENDS=	libxml2.so:${PORTSDIR}/textproc/libxml2
LIBXML2_CMAKE_OFF=	-DWITH_LIBXML2:BOOL=FALSE

EMBED_BOOST_DESC=	Use embedded rather than system boost
EMBED_BOOST_CMAKE_ON=	-DPDAL_EMBED_BOOST:BOOL=TRUE
EMBED_BOOST_CMAKE_OFF=	-DPDAL_EMBED_BOOST:BOOL=FALSE
EMBED_BOOST_LIB_DEPENDS_OFF=	libboost_thread.so:${PORTSDIR}/devel/boost-libs

.include <bsd.port.mk>
