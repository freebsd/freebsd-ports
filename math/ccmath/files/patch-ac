--- makelibs.sh.orig	Sat Oct 18 22:13:50 2003
+++ makelibs.sh	Sat Oct 18 22:15:05 2003
@@ -10,13 +10,11 @@
 LST="cfit complex fft geom intg matrix roots sfunc simu sort statf tseries util xarm"
 MDR=`pwd`
 LSOD=$MDR/tmp
-echo "Intel platform ? (y/n)"
-read F
 for dr in $LST
   do
     cd $MDR/$dr
     echo `pwd`
-    cc -c -O3 *.c
+    cc -c $CFLAGS -fPIC *.c
     mv *.o $LSOD
   done
 
@@ -27,14 +25,12 @@
 mv *.o $LSOD
 cd $MDR
 
-if [ $F = "y" ]
-  then cd $MDR/matrix
-    cc -c -O3 solv.s
+    cd $MDR/matrix
+    cc -c $CFLAGS solv.s
     mv *.o $LSOD
     cd $MDR/simu
-    cc -c -O3 *.s
+    cc -c $CFLAGS *.s
     mv *.o $LSOD
-fi
 cd $LSOD
 ar r libccm.a *.o
 ld -shared -o libccm.so *.o
