# Created by: Edward Tomasz Napierala <trasz@FreeBSD.org>
# $FreeBSD$

PORTNAME=	fmit
PORTVERSION=	0.99.2
PORTREVISION=	4
CATEGORIES=	audio
MASTER_SITES=	http://download.gna.org/fmit/
DISTNAME=	${PORTNAME}-${PORTVERSION}-Source

MAINTAINER=	ports@FreeBSD.org
COMMENT=	Free Music Instrument Tuner

LICENSE=	GPLv2

LIB_DEPENDS=	fftw3:${PORTSDIR}/math/fftw3

USE_BZIP2=	yes
USE_XORG=	xmu
USE_QT4=	corelib gui opengl \
		linguist_build moc_build qmake_build rcc_build uic_build
USE_GL=		glut
USES=		cmake
INSTALLS_ICONS=	yes

OPTIONS_DEFINE=	ALSA JACK OSS PORTAUDIO
OPTIONS_DEFAULT=	JACK OSS

OPTIONS_SUB=	yes

ALSA_LIB_DEPENDS=	libasound.so.2:${PORTSDIR}/audio/alsa-lib
ALSA_CMAKE_ON=		-DSOUNDSYSTEM_USE_ALSA:BOOL=true
ALSA_CMAKE_OFF=		-DSOUNDSYSTEM_USE_ALSA:BOOL=false

OSS_CMAKE_ON=		-DSOUNDSYSTEM_USE_OSS:BOOL=true
OSS_CMAKE_OFF=		-DSOUNDSYSTEM_USE_OSS:BOOL=false

JACK_LIB_DEPENDS=	libjack.so:${PORTSDIR}/audio/jack
JACK_CMAKE_ON=		-DSOUNDSYSTEM_USE_JACK:BOOL=true
JACK_CMAKE_OFF=		-DSOUNDSYSTEM_USE_JACK:BOOL=false

PORTAUDIO_BUILD_DEPENDS=	portaudio2>=0:${PORTSDIR}/audio/portaudio2
PORTAUDIO_RUN_DEPENDS=	portaudio2>=0:${PORTSDIR}/audio/portaudio2
PORTAUDIO_CMAKE_ON=	-DSOUNDSYSTEM_USE_PORTAUDIO:BOOL=true
PORTAUDIO_CMAKE_OFF=	-DSOUNDSYSTEM_USE_PORTAUDIO:BOOL=false

.include <bsd.port.mk>
