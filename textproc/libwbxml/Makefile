PORTNAME=	libwbxml
PORTVERSION=	0.11.10
DISTVERSIONPREFIX=	libwbxml-
CATEGORIES=	textproc devel

MAINTAINER=	sunpoet@FreeBSD.org
COMMENT=	Library & tools for converting wbxml<->xml
WWW=		http://libwbxml.opensync.org/ \
		https://github.com/libwbxml/libwbxml

LICENSE=	LGPL21
LICENSE_FILE=	${WRKSRC}/COPYING

LIB_DEPENDS=	libexpat.so:textproc/expat2
TEST_DEPENDS=	check>=0:devel/check

USES=		cmake:testing iconv perl5 pkgconfig
USE_PERL5=	test

CMAKE_ARGS=	-DCMAKE_INSTALL_LIBDIR=${PREFIX}/lib \
		-DLIBDATA_INSTALL_DIR=${PREFIX}/libdata
CMAKE_OFF=	ENABLE_INSTALL_DOC \
		ENABLE_UNIT_TEST \
		WBXML_INSTALL_FULL_HEADERS \
		WBXML_LIB_VERBOSE
CMAKE_ON=	BUILD_SHARED_LIBS \
		BUILD_STATIC_LIBS \
		FOUND_POSIX_GETOPT \
		WBXML_ENCODER_USE_STRTBL \
		WBXML_SUPPORT_AIRSYNC \
		WBXML_SUPPORT_CO \
		WBXML_SUPPORT_CONML \
		WBXML_SUPPORT_DRMREL \
		WBXML_SUPPORT_EMN \
		WBXML_SUPPORT_OTA_SETTINGS \
		WBXML_SUPPORT_PROV \
		WBXML_SUPPORT_SI \
		WBXML_SUPPORT_SL \
		WBXML_SUPPORT_SYNCML \
		WBXML_SUPPORT_WML \
		WBXML_SUPPORT_WTA \
		WBXML_SUPPORT_WV
CMAKE_TESTING_ON=	ENABLE_UNIT_TEST
USE_LDCONFIG=	yes

USE_GITHUB=	yes

.include <bsd.port.mk>
