PORTNAME=	ctpp2
PORTVERSION=	2.8.3
PORTREVISION=	9
CATEGORIES=	textproc devel
MASTER_SITES=	http://ctpp.havoc.ru/download/

MAINTAINER=	ports@FreeBSD.org
COMMENT=	C++ library to use templates in C/C++ projects, version 2
WWW=		http://ctpp.havoc.ru/

USES=		cmake compiler:c++11-lang gettext
USE_CXXSTD=	c++14
USE_LDCONFIG=	yes

CMAKE_ARGS=	-DICONV_INCLUDE=${ICONV_INCLUDE_PATH}

PLIST_SUB+=	PORTVERSION=${PORTVERSION}
PORTDOCS=	template_language.html

OPTIONS_DEFINE=	DEBUG DISCARD_ILSEQ DOCS MD5 OPTIMIZATION TRANSLITERATE
OPTIONS_DEFAULT=	DISCARD_ILSEQ MD5 OPTIMIZATION TRANSLITERATE
OPTIONS_SUB=	yes

DEBUG_DESC=		Enable debug output
DISCARD_ILSEQ_DESC=	Discard illegal sequence and continue
MD5_DESC=		Enable md5 support
OPTIMIZATION_DESC=	Enable optimization
TRANSLITERATE_DESC=	Enable transliteration in the conversion

DEBUG_CMAKE_ON=	-DDEBUG_MODE=ON
DEBUG_CMAKE_OFF=	-DDEBUG_MODE=OFF
DISCARD_ILSEQ_CMAKE_ON=	-DICONV_DISCARD_ILSEQ=ON
DISCARD_ILSEQ_CMAKE_OFF=	-DICONV_DISCARD_ILSEQ=OFF
DOCS_BUILD_DEPENDS=	rst2html:textproc/py-docutils
DOCS_CMAKE_ON=	-DENABLE_DOCS=ON
DOCS_CMAKE_OFF=	-DENABLE_DOCS=OFF
MD5_CMAKE_ON=	-DMD5_SUPPORT=ON
MD5_CMAKE_OFF=	-DMD5_SUPPORT=OFF
OPTIMIZATION_CMAKE_ON=	-DENABLE_OPTIMIZATION=ON
OPTIMIZATION_CMAKE_OFF=	-DENABLE_OPTIMIZATION=OFF
TRANSLITERATE_USES=	iconv:translit
TRANSLITERATE_USES_OFF=	iconv
TRANSLITERATE_CMAKE_ON=	-DICONV_TRANSLITERATE=ON
TRANSLITERATE_CMAKE_OFF=	-DICONV_TRANSLITERATE=OFF

.include <bsd.port.mk>
