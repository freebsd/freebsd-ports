# Created by: Sunpoet Po-Chuan Hsieh <sunpoet@FreeBSD.org>
# $FreeBSD$

PORTNAME=	XML-XML2JSON
PORTVERSION=	0.06
PORTREVISION=	1
CATEGORIES=	textproc perl5
MASTER_SITES=	CPAN
PKGNAMEPREFIX=	p5-

MAINTAINER=	sunpoet@FreeBSD.org
COMMENT=	Convert XML into JSON (and back again) using XML::LibXML

LICENSE=	ART10 GPLv1
LICENSE_COMB=	dual

BUILD_DEPENDS=	p5-XML-LibXML>=1.59:textproc/p5-XML-LibXML
RUN_DEPENDS:=	${BUILD_DEPENDS}

# the order of options follows the search order of JSON module by XML::XML2JSON
OPTIONS_MULTI=	JSON_BACKEND
OPTIONS_MULTI_JSON_BACKEND=	JSON_SYCK JSON_XS JSON JSON_DWIW
OPTIONS_DEFAULT=JSON_SYCK
JSON_SYCK_DESC=	Use JSON::Syck
JSON_XS_DESC=	Use JSON::XS
JSON_DESC=	Use JSON
JSON_DWIW_DESC=	Use JSON::DWIW

NO_ARCH=	yes
USE_PERL5=	configure
USES=		perl5

JSON_BUILD_DEPENDS=	p5-JSON>=0:converters/p5-JSON
JSON_DWIW_BUILD_DEPENDS=p5-JSON-DWIW>=0:converters/p5-JSON-DWIW
JSON_DWIW_RUN_DEPENDS=	p5-JSON-DWIW>=0:converters/p5-JSON-DWIW
JSON_RUN_DEPENDS=	p5-JSON>=0:converters/p5-JSON
JSON_SYCK_BUILD_DEPENDS=p5-YAML-Syck>=0:textproc/p5-YAML-Syck
JSON_SYCK_RUN_DEPENDS=	p5-YAML-Syck>=0:textproc/p5-YAML-Syck
JSON_XS_BUILD_DEPENDS=	p5-JSON-XS>=0:converters/p5-JSON-XS
JSON_XS_RUN_DEPENDS=	p5-JSON-XS>=0:converters/p5-JSON-XS

.include <bsd.port.mk>
