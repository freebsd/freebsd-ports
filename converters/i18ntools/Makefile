# Created by: G. Adam Stanislav
# $FreeBSD$

PORTNAME=	i18ntools
PORTVERSION=	1.0
PORTREVISION=	1
CATEGORIES=	converters
MASTER_SITES=	ftp://ftp.whizkidtech.redprince.net/unix/ \
		http://www.whizkidtech.redprince.net/fports/

MAINTAINER=	ports@FreeBSD.org
COMMENT=	Tools for the conversion to and from UTF-8 Unicode encoding

LICENSE=	BSD2CLAUSE

LIB_DEPENDS=	libutf-8.so:converters/libutf-8
RUN_DEPENDS=	tuc:converters/tuc

DATADIR=	${PREFIX}/share/i18n
DOCSDIR=	${PREFIX}/share/doc/i18n

BINARIES=	hutrans mbm ptrans uhtrans utrans
CHARMAPS=	ANSI_X3.110-1983 ANSI_X3.4-1968 ASMO_449 BALTIC BS_4730 \
		BS_VIEWDATA CP1250 CP1251 CP1252 CP1253 CP1254 CP1255 CP1256 \
		CP1257 CSA_Z243.4-1985-1 CSA_Z243.4-1985-2 CSA_Z243.4-1985-GR \
		CSN_369103 CWI DEC-MCS DIN_66003 DS_2089 EBCDIC-AT-DE \
		EBCDIC-AT-DE-A EBCDIC-CA-FR EBCDIC-DK-NO EBCDIC-DK-NO-A \
		EBCDIC-ES EBCDIC-ES-A EBCDIC-ES-S EBCDIC-FI-SE EBCDIC-FI-SE-A \
		EBCDIC-FR EBCDIC-IS-FRISS EBCDIC-IT EBCDIC-PT EBCDIC-UK \
		EBCDIC-US ECMA-CYRILLIC ES ES2 GB_1988-80 GOST_19768-74 \
		GREEK-CCITT GREEK7 GREEK7-OLD HP-ROMAN8 IBM037 IBM038 IBM1004 \
		IBM1026 IBM1047 IBM256 IBM273 IBM274 IBM275 IBM277 IBM278 \
		IBM280 IBM281 IBM284 IBM285 IBM290 IBM297 IBM420 IBM423 IBM424 \
		IBM437 IBM500 IBM850 IBM851 IBM852 IBM855 IBM857 IBM860 IBM861 \
		IBM862 IBM863 IBM864 IBM865 IBM868 IBM869 IBM870 IBM871 IBM875 \
		IBM880 IBM891 IBM903 IBM904 IBM905 IBM918 IEC_P27-1 INIS \
		INIS-8 INIS-CYRILLIC INVARIANT ISO-8859-1 ISO-8859-10 \
		ISO-8859-2 ISO-8859-3 ISO-8859-4 ISO-8859-5 ISO-8859-6 \
		ISO-8859-7 ISO-8859-8 ISO-8859-9 ISO-IR-90 ISO_10367-BOX \
		ISO_2033-1983 ISO_5427 ISO_5427-EXT ISO_5428 ISO_646.BASIC \
		ISO_646.IRV ISO_6937 ISO_6937-2-25 ISO_6937-2-ADD \
		ISO_8859-1,GL ISO_8859-SUPP IT JIS_C6220-1969-JP \
		JIS_C6220-1969-RO JIS_C6229-1984-A JIS_C6229-1984-B \
		JIS_C6229-1984-B-ADD JIS_C6229-1984-HAND \
		JIS_C6229-1984-HAND-ADD JIS_C6229-1984-KANA JIS_X0201 \
		JUS_I.B1.002 JUS_I.B1.003-MAC JUS_I.B1.003-SERB KOI-8 KOI8-R \
		KSC5636 LATIN-GREEK LATIN-GREEK-1 MAC-IS MACINTOSH MSZ_7795.3 \
		NATS-DANO NATS-DANO-ADD NATS-SEFI NATS-SEFI-ADD NC_NC00-10 \
		NEXTSTEP NF_Z_62-010 NF_Z_62-010-1973 NS_4551-1 NS_4551-2 PT \
		PT2 SAMI SEN_850200_B SEN_850200_C T.101-G2 T.61-7BIT \
		T.61-8BIT VIDEOTEX-SUPPL
DOCFILES=	fgetu8.html fputu8.html index.html libutf-8.html rfc1641.txt \
		rfc2277.txt rfc2279.txt sgetu8.html sputu8.html utrans.html
MAN1FILES=	hutrans.1 ptrans.1 utrans.1 uhtrans.1

OPTIONS_DEFINE=	DOCS

post-patch:
	@${REINPLACE_CMD} -e \
		's|$${PREFIX}/include|$${LOCALBASE}/include| ; \
		 s|$${PREFIX}/lib|$${LOCALBASE}/lib| ; \
		 s|gcc -o|$$(CC) $$(CFLAGS) -o|' ${WRKSRC}/Makefile

do-install:
.for f in ${BINARIES}
	${INSTALL_PROGRAM} ${WRKSRC}/${f} ${STAGEDIR}${PREFIX}/bin
.endfor
.for f in ${MAN1FILES}
	${INSTALL_MAN} ${WRKSRC}/${f} ${STAGEDIR}${MANPREFIX}/man/man1
.endfor
	${MKDIR} ${STAGEDIR}${DATADIR}/charmaps/binary
.for f in ${CHARMAPS}
	${INSTALL_DATA} ${WRKSRC}/charmaps/${f} \
		${STAGEDIR}${DATADIR}/charmaps/binary
.endfor

do-install-DOCS-on:
	@${MKDIR} ${STAGEDIR}${DOCSDIR}/tools
.for f in ${DOCFILES}
	(cd ${WRKSRC} && ${INSTALL_DATA} ${f} ${STAGEDIR}${DOCSDIR}/tools)
.endfor

.include <bsd.port.mk>
