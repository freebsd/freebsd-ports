--- CMakeLists.txt.orig	2025-03-07 00:50:44 UTC
+++ CMakeLists.txt
@@ -132,6 +132,7 @@ include(SwiftSupport)
 include(DispatchCompilerWarnings)
 include(DTrace)
 include(SwiftSupport)
+include(PkgConfigGeneration)
 
 # NOTE(abdulras) this is the CMake supported way to control whether we generate
 # shared or static libraries.  This impacts the behaviour of `add_library` in
@@ -191,6 +192,10 @@ if(NOT CMAKE_SYSTEM_NAME STREQUAL Android)
 
 if(NOT CMAKE_SYSTEM_NAME STREQUAL Android)
   find_package(LibRT)
+endif()
+
+if(CMAKE_SYSTEM_NAME STREQUAL FreeBSD)
+  find_package(BlocksRuntime)
 endif()
 
 check_function_exists(_pthread_workqueue_init HAVE__PTHREAD_WORKQUEUE_INIT)
