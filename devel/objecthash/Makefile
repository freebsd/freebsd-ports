# Created by: Edward Tomasz Napierala <trasz@FreeBSD.org>
# $FreeBSD$

PORTNAME=	objecthash
PORTVERSION=	20160121
CATEGORIES=	devel

MAINTAINER=	trasz@FreeBSD.org
COMMENT=	Cross-language way to cryptographically hash JSON objects

LICENSE=	APACHE20

LIB_DEPENDS=	libicudata.so:devel/icu \
		libjson-c.so:devel/json-c

BROKEN_FreeBSD_9=	does not build on FreeBSD < 10.x

USES=		pkgconfig
USE_GITHUB=	yes
USE_LDCONFIG=	yes
GH_ACCOUNT=	benlaurie
GH_PROJECT=	objecthash
GH_TAGNAME=	2024cf8

ALL_TARGET=	libobjecthash.so

PLIST_FILES=	include/objecthash.h lib/libobjecthash.so

do-install:
		${INSTALL_LIB} ${WRKSRC}/libobjecthash.so ${STAGEDIR}${PREFIX}/lib
		${INSTALL_DATA} ${WRKSRC}/objecthash.h ${STAGEDIR}${PREFIX}/include

.include <bsd.port.mk>
