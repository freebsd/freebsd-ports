# Created by: Muhammad Moinur Rahman <bofh@FreeBSD.org>
# $FreeBSD$

PORTNAME=	dia2code+
PORTVERSION=	1.0.0
PORTREVISION=	2
CATEGORIES=	devel
MASTER_SITES=	SF/dia2code/dia2code+/${PORTVERSION}
DISTNAME=	dia2code-${PORTVERSION}

MAINTAINER=	bofh@FreeBSD.org
COMMENT=	Complete rewrite of dia2code in C++

LICENSE=	GPLv2
LICENSE_FILE=	${WRKSRC}/COPYING

BROKEN_powerpc64=	fails to compile: GenerateCodePhp.cpp: 'stoi' is not a member of 'std'

USES=		autoreconf:build compiler:gcc-c++11-lib iconv
USE_GNOME=	libxml2
GNU_CONFIGURE=	yes

CPPFLAGS+=	-I${LOCALBASE}/include
LDFLAGS+=	-L${LOCALBASE}/lib

PLIST_FILES=	bin/dia2code \
		man/man1/dia2code.1.gz

post-install:
	${INSTALL_MAN} ${WRKSRC}/docs/dia2code.1 ${STAGEDIR}${MANPREFIX}/man/man1

.include <bsd.port.mk>
