--- malloc-2.6.5.c.orig	Thu Nov 28 06:07:12 1996
+++ malloc-2.6.5.c	Sun Apr 20 17:25:42 1997
@@ -221,6 +221,8 @@
 
 /* Preliminaries */
 
+#include <sys/param.h>
+
 #ifndef __STD_C
 #ifdef __STDC__
 #define __STD_C     1
@@ -495,7 +497,7 @@
 #  ifdef _SC_PAGE_SIZE
 #    define malloc_getpagesize sysconf(_SC_PAGE_SIZE)
 #  else
-#    if defined(BSD) || defined(DGUX) || defined(HAVE_GETPAGESIZE)
+#    if (defined(BSD) && (BSD < 199306)) || defined(DGUX) || defined(HAVE_GETPAGESIZE)
        extern size_t getpagesize();
 #      define malloc_getpagesize getpagesize()
 #    else
@@ -789,7 +791,9 @@
 #else /* INTERNAL_LINUX_C_LIB */
 
 #if __STD_C
+#    if !(defined(BSD) && (BSD >= 199306))
 extern Void_t*     sbrk(ptrdiff_t);
+#    endif
 #else
 extern Void_t*     sbrk();
 #endif
