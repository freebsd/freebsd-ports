# Created by: scrappy
# $FreeBSD$

PORTNAME=	IO-Socket-SSL
PORTVERSION=	2.051
CATEGORIES=	security perl5
MASTER_SITES=	CPAN
MASTER_SITE_SUBDIR=	CPAN:SULLR
PKGNAMEPREFIX=	p5-

MAINTAINER=	jadawin@FreeBSD.org
COMMENT=	Perl5 interface to SSL sockets

LICENSE=	ARTPERL10

BUILD_DEPENDS=	p5-Net-SSLeay>=1.59:security/p5-Net-SSLeay \
		p5-Mozilla-CA>=20130114:www/p5-Mozilla-CA
RUN_DEPENDS:=	${BUILD_DEPENDS}

NO_ARCH=	yes
USES=		perl5 shebangfix
USE_PERL5=	configure

CONFIGURE_ENV=	NO_NETWORK_TESTING=yes

OPTIONS_DEFINE=	EXAMPLES IDN

INSTALL_TARGET=	pure_install

PORTEXAMPLES=	*

SHEBANG_FILES=	example/ssl_mitm.pl

IDN_BUILD_DEPENDS=	p5-URI>=1.50:net/p5-URI
IDN_RUN_DEPENDS=	${IDN_BUILD_DEPENDS}

post-install-EXAMPLES-on:
	${MKDIR} ${STAGEDIR}${EXAMPLESDIR}/
	${INSTALL_SCRIPT} ${WRKSRC}/example/* ${STAGEDIR}${EXAMPLESDIR}/

.include <bsd.port.mk>
