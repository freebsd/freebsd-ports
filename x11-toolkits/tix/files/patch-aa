--- configure.orig	Sun Feb 14 21:20:06 1999
+++ configure	Wed Nov  3 14:21:25 1999
@@ -1006,13 +1006,14 @@
 
 if test "$val" != ""; then
     TCL_SRC_DIR=$val
+    tclsrcdir=$val
     if test ! -d $TCL_SRC_DIR; then
         { echo "configure: error: Directory $TCL_SRC_DIR doesn't exist" 1>&2; exit 1; }
-        { echo "configure: error: Please install the source code of Tcl 8.0" 1>&2; exit 1; }
+        { echo "configure: error: Please install the source code of Tcl 8.2" 1>&2; exit 1; }
         exit 1
     fi
 else
-    dirs="../../../tcl8.0"
+    dirs="../../../tcl8.2"
     TCL_SRC_DIR="no-no"
     for i in $dirs; do
         if test -d $i; then
@@ -1028,7 +1029,7 @@
 fi
 echo "$ac_t""$TCL_SRC_DIR" 1>&6
 
-TCL_BIN_DIR=$TCL_SRC_DIR/unix
+TCL_BIN_DIR=$TCL_SRC_DIR/../../lib/tcl8.2
 
 #--------------------------------------------------------------------
 #	See if there was a command-line option for where Tk is;  if
@@ -1048,13 +1049,14 @@
 
 if test "$val" != ""; then
     TK_SRC_DIR=$val
+    tksrcdir=$val
     if test ! -d $TK_SRC_DIR; then
         { echo "configure: error: Directory $TK_SRC_DIR doesn't exist" 1>&2; exit 1; }
-        { echo "configure: error: Please install the source code of Tk 8.0" 1>&2; exit 1; }
+        { echo "configure: error: Please install the source code of Tk 8.2" 1>&2; exit 1; }
         exit 1
     fi
 else
-    dirs="../../../tk8.0"
+    dirs="../../../tk8.2"
     TK_SRC_DIR="no-no"
     for i in $dirs; do
         if test -d $i; then
@@ -1070,7 +1072,7 @@
 fi
 echo "$ac_t""$TK_SRC_DIR" 1>&6
 
-TK_BIN_DIR=$TK_SRC_DIR/unix
+TK_BIN_DIR=$TK_SRC_DIR/../../lib/tk8.2
 
 #--------------------------------------------------------------------
 #	Find out the top level source directory of the Tix package.
@@ -1141,17 +1143,19 @@
 # up the Tcl library.
 
 if test "${TCL_LIB_VERSIONS_OK}" = "ok"; then
-    TIX_BUILD_LIB_SPEC="-L`pwd` -ltix${VERSION}"
+    TIX_BUILD_LIB_SPEC="`pwd`/libtix${VERSION}.so.1"
     TIX_BUILD_SAM_SPEC="-L`pwd` -ltixsam${VERSION}"
     TCL_BUILD_SAM_SPEC="-L`pwd` -ltclsam${TCL_VERSION}"
     TK_BUILD_SAM_SPEC="-L`pwd` -ltksam${TK_VERSION}"
     TIX_LIB_SPEC="-L${exec_prefix}/lib -ltix${VERSION}"
+    LIBVERSION="${VERSION}"
 else
-    TIX_BUILD_LIB_SPEC="-L`pwd` -ltix`echo ${VERSION} | tr -d .`"
+    TIX_BUILD_LIB_SPEC="`pwd`/libtix`echo ${VERSION} | tr -d .`.so.1"
     TIX_BUILD_SAM_SPEC="-L`pwd` -ltixsam`echo ${VERSION} | tr -d .`"
     TCL_BUILD_SAM_SPEC="-L`pwd` -ltclsam`echo ${TCL_VERSION} | tr -d .`"
     TK_BUILD_SAM_SPEC="-L`pwd` -ltksam`echo ${TK_VERSION} | tr -d .`"
     TIX_LIB_SPEC="-L${exec_prefix}/lib -ltix`echo ${VERSION} | tr -d .`"
+    LIB_VERSION="`echo ${VERSION} | tr -d .`"
 fi
 
 #--------------------------------------------------------------------
@@ -1173,7 +1177,7 @@
 
     # The main Tix library
     #
-    eval "TIX_LIB_FILE=libtix${TCL_SHARED_LIB_SUFFIX}"
+    eval "TIX_LIB_FILE=libtix${LIB_VERSION}.so.1"
     TIX_MAKE_LIB="\${SHLIB_LD} -o ${TIX_LIB_FILE} \${OBJS} ${SHLIB_LD_LIBS}"
 
     # The Tcl SAM library
@@ -1191,7 +1195,7 @@
     # The Tix SAM library
     #
     VERSION=${BIN_VERSION}
-    eval "TIX_SAM_FILE=libtixsam${TCL_SHARED_LIB_SUFFIX}"
+    eval "TIX_SAM_FILE=libtixsam${LIB_VERSION}.so.1"
     TIX_MAKE_SAM="\${SHLIB_LD} -o ${TIX_SAM_FILE} \${TIX_SAM_OBJS} ${SHLIB_LD_LIBS}"
 
 else
@@ -1653,15 +1657,15 @@
 s%@SHLIB_VERSION@%$SHLIB_VERSION%g
 s%@DL_LIBS@%$DL_LIBS%g
 s%@LD_FLAGS@%$LD_FLAGS%g
-s%@TCL_BUILD_LIB_SPEC@%$TCL_BUILD_LIB_SPEC%g
+s%@TCL_LIB_SPEC@%$TCL_LIB_SPEC%g
 s%@TCL_LIBS@%$TCL_LIBS%g
 s%@TCL_VERSION@%$TCL_VERSION%g
-s%@TCL_SRC_DIR@%$TCL_SRC_DIR%g
+s%@TCL_SRC_DIR@%$tclsrcdir%g
 s%@TCL_BIN_DIR@%$TCL_BIN_DIR%g
-s%@TK_BUILD_LIB_SPEC@%$TK_BUILD_LIB_SPEC%g
+s%@TK_LIB_SPEC@%$TK_LIB_SPEC%g
 s%@TK_LIBS@%$TK_LIBS%g
 s%@TK_VERSION@%$TK_VERSION%g
-s%@TK_SRC_DIR@%$TK_SRC_DIR%g
+s%@TK_SRC_DIR@%$tksrcdir%g
 s%@TK_BIN_DIR@%$TK_BIN_DIR%g
 s%@TK_XINCLUDES@%$TK_XINCLUDES%g
 s%@TIX_LD_SEARCH_FLAGS@%$TIX_LD_SEARCH_FLAGS%g
@@ -1684,8 +1688,8 @@
 s%@TIX_SAM_FILE@%$TIX_SAM_FILE%g
 s%@TIX_MAKE_SAM@%$TIX_MAKE_SAM%g
 s%@TIX_DEFS@%$TIX_DEFS%g
-s%@ITCL_BUILD_LIB_SPEC@%$ITCL_BUILD_LIB_SPEC%g
-s%@ITK_BUILD_LIB_SPEC@%$ITK_BUILD_LIB_SPEC%g
+s%@ITCL_LIB_SPEC@%$ITCL_LIB_SPEC%g
+s%@ITK_LIB_SPEC@%$ITK_LIB_SPEC%g
 s%@TCL_SAMEXE_FILE@%$TCL_SAMEXE_FILE%g
 s%@TK_SAMEXE_FILE@%$TK_SAMEXE_FILE%g
 s%@TIX_SAMEXE_FILE@%$TIX_SAMEXE_FILE%g
