# $FreeBSD$

PORTNAME=	magnum-examples
DISTVERSIONPREFIX=	v
DISTVERSION=	2019.10
PORTREVISION=	0
CATEGORIES=	graphics

MAINTAINER=	yuri@FreeBSD.org
COMMENT=	Examples for the Magnum C++11/C++14 graphics engine

LICENSE=	MIT
LICENSE_FILE=	${WRKSRC}/COPYING

LIB_DEPENDS=	libBox2D.so:misc/box2d \
		libCorradeUtility.so:devel/corrade \
		libglfw.so:graphics/glfw \
		libMagnum.so:graphics/magnum

USES=		cmake compiler:c++14-lang gl localbase:ldflags openal sdl xorg
USE_GITHUB=	yes
GH_ACCOUNT=	mosra
GH_TUPLE=	mosra:toolchains:fc22ff5:t/toolchains
USE_GL=		gl egl glesv2
USE_SDL=	sdl2
USE_XORG=	ice sm x11 xext

LDFLAGS+=	-lGL # only missing for one example
# for openal cf. PR 226980
LLD_UNSAFE=	yes

CMAKE_ARGS=	-DLIB_SUFFIX:STRING=""

CMAKE_ON=	WITH_AUDIO_EXAMPLE WITH_BOX2D_EXAMPLE WITH_CUBEMAP_EXAMPLE \
		WITH_MOUSEINTERACTION_EXAMPLE WITH_MOTIONBLUR_EXAMPLE \
		WITH_PRIMITIVES_EXAMPLE WITH_TEXT_EXAMPLE WITH_TEXTUREDTRIANGLE_EXAMPLE \
		WITH_TRIANGLE_EXAMPLE WITH_TRIANGLE_PLAIN_GLFW_EXAMPLE WITH_VIEWER_EXAMPLE
# examples that failed to build:
CMAKE_OFF=	WITH_AREALIGHTS_EXAMPLE WITH_BULLET_EXAMPLE WITH_IMGUI_EXAMPLE WITH_LEAPMOTION_EXAMPLE \
		WITH_OVR_EXAMPLE WITH_PICKING_EXAMPLE WITH_SHADOWS_EXAMPLE WITH_TRIANGLE_SOKOL_EXAMPLE WITH_WEBVR_EXAMPLE

.include <bsd.port.mk>
