--- man/Makefile.in.orig	Tue Nov 30 01:42:44 1999
+++ man/Makefile.in	Sat Apr  1 00:00:00 2000
@@ -41,6 +41,7 @@
 SED	= sed
 MV	= mv
 RM	= rm -f
+LN	= ln -sf
 INSTALL	= @INSTALL@
 
 #
@@ -82,7 +83,7 @@
 # pathname prefix in the .so commands when setting
 # up alternate files for multi-function manual pages.
 #
-#MANDIR	= man3/
+MANDIR	=
 
 MANTOOLS=\
 	apps/fax2tiff.1 \
@@ -274,59 +275,59 @@
 lib/TIFFswab.3t::	${SRCDIR}/TIFFswab.3t;			${MANCVT}
 lib/TIFFtile.3t::	${SRCDIR}/TIFFtile.3t;			${MANCVT}
 
-lib/TIFFComputeTile.3t:;	${ECHO} ".so ${MANDIR}TIFFtile.3t" > $@
-lib/TIFFCheckTile.3t:;		${ECHO} ".so ${MANDIR}TIFFtile.3t" > $@
-lib/TIFFNumberOfTiles.3t:;	${ECHO} ".so ${MANDIR}TIFFtile.3t" > $@
-lib/TIFFComputeStrip.3t:;	${ECHO} ".so ${MANDIR}TIFFstrip.3t" > $@
-lib/TIFFNumberOfStrips.3t:;	${ECHO} ".so ${MANDIR}TIFFstrip.3t" > $@
-lib/TIFFCurrentDirectory.3t:;	${ECHO} ".so ${MANDIR}TIFFquery.3t" > $@
-lib/TIFFCurrentRow.3t:;		${ECHO} ".so ${MANDIR}TIFFquery.3t" > $@
-lib/TIFFCurrentStrip.3t:;	${ECHO} ".so ${MANDIR}TIFFquery.3t" > $@
-lib/TIFFCurrentTile.3t:;	${ECHO} ".so ${MANDIR}TIFFquery.3t" > $@
-lib/TIFFFdOpen.3t:;		${ECHO} ".so ${MANDIR}TIFFOpen.3t" > $@
-lib/TIFFFileName.3t:;		${ECHO} ".so ${MANDIR}TIFFquery.3t" > $@
-lib/TIFFFileno.3t:;		${ECHO} ".so ${MANDIR}TIFFquery.3t" > $@
-lib/TIFFFlushData.3t:;		${ECHO} ".so ${MANDIR}TIFFFlush.3t" > $@
-lib/TIFFGetMode.3t:;		${ECHO} ".so ${MANDIR}TIFFquery.3t" > $@
-lib/TIFFIsTiled.3t:;		${ECHO} ".so ${MANDIR}TIFFquery.3t" > $@
-lib/TIFFIsByteSwapped.3t:;	${ECHO} ".so ${MANDIR}TIFFquery.3t" > $@
-lib/TIFFIsUpSampled.3t:;	${ECHO} ".so ${MANDIR}TIFFquery.3t" > $@
-lib/TIFFIsMSB2LSB.3t:;		${ECHO} ".so ${MANDIR}TIFFquery.3t" > $@
-lib/TIFFLastDirectory.3t:;	${ECHO} ".so ${MANDIR}TIFFquery.3t" > $@
-lib/TIFFReverseBits.3t:;	${ECHO} ".so ${MANDIR}TIFFswab.3t" > $@
-lib/TIFFRGBAImageOK.3t:;	${ECHO} ".so ${MANDIR}TIFFRGBAImage.3t" > $@
-lib/TIFFRGBAImageBegin.3t:;	${ECHO} ".so ${MANDIR}TIFFRGBAImage.3t" > $@
-lib/TIFFRGBAImageGet.3t:;	${ECHO} ".so ${MANDIR}TIFFRGBAImage.3t" > $@
-lib/TIFFRGBAImageEnd.3t:;	${ECHO} ".so ${MANDIR}TIFFRGBAImage.3t" > $@
-lib/TIFFSetErrorHandler.3t:;	${ECHO} ".so ${MANDIR}TIFFError.3t" > $@
-lib/TIFFSetSubDirectory.3t:;	${ECHO} ".so ${MANDIR}TIFFSetDirectory.3t" > $@
-lib/TIFFSetWarningHandler.3t:;	${ECHO} ".so ${MANDIR}TIFFWarning.3t" > $@
-lib/TIFFSwabArrayOfLong.3t:;	${ECHO} ".so ${MANDIR}TIFFswab.3t" > $@
-lib/TIFFSwabArrayOfShort.3t:;	${ECHO} ".so ${MANDIR}TIFFswab.3t" > $@
-lib/TIFFSwabLong.3t:;		${ECHO} ".so ${MANDIR}TIFFswab.3t" > $@
-lib/TIFFSwabShort.3t:;		${ECHO} ".so ${MANDIR}TIFFswab.3t" > $@
-lib/TIFFScanlineSize.3t:;	${ECHO} ".so ${MANDIR}TIFFsize.3t" > $@
-lib/TIFFRasterScanlineSize.3t:;	${ECHO} ".so ${MANDIR}TIFFsize.3t" > $@
-lib/TIFFDefaultStripSize.3t:;	${ECHO} ".so ${MANDIR}TIFFstrip.3t" > $@
-lib/TIFFStripSize.3t:;		${ECHO} ".so ${MANDIR}TIFFstrip.3t" > $@
-lib/TIFFVStripSize.3t:;		${ECHO} ".so ${MANDIR}TIFFstrip.3t" > $@
-lib/TIFFTileSize.3t:;		${ECHO} ".so ${MANDIR}TIFFtile.3t" > $@
-lib/TIFFVTileSize.3t:;		${ECHO} ".so ${MANDIR}TIFFtile.3t" > $@
-lib/TIFFDefaultTileSize.3t:;	${ECHO} ".so ${MANDIR}TIFFtile.3t" > $@
-lib/TIFFTileRowSize.3t:;	${ECHO} ".so ${MANDIR}TIFFtile.3t" > $@
-lib/TIFFVGetField.3t:;		${ECHO} ".so ${MANDIR}TIFFGetField.3t" > $@
-lib/TIFFVSetField.3t:;		${ECHO} ".so ${MANDIR}TIFFSetField.3t" > $@
-lib/TIFFFindCODEC.3t:;		${ECHO} ".so ${MANDIR}TIFFcodec.3t" > $@
-lib/TIFFRegisterCODEC.3t:;	${ECHO} ".so ${MANDIR}TIFFcodec.3t" > $@
-lib/TIFFUnRegisterCODEC.3t:;	${ECHO} ".so ${MANDIR}TIFFcodec.3t" > $@
-lib/TIFFmalloc.3t:;		${ECHO} ".so ${MANDIR}TIFFmemory.3t" > $@
-lib/TIFFrealloc.3t:;		${ECHO} ".so ${MANDIR}TIFFmemory.3t" > $@
-lib/TIFFfree.3t:;		${ECHO} ".so ${MANDIR}TIFFmemory.3t" > $@
-lib/TIFFmemset.3t:;		${ECHO} ".so ${MANDIR}TIFFmemory.3t" > $@
-lib/TIFFmemcpy.3t:;		${ECHO} ".so ${MANDIR}TIFFmemory.3t" > $@
-lib/TIFFmemcmp.3t:;		${ECHO} ".so ${MANDIR}TIFFmemory.3t" > $@
-lib/TIFFReadBufferSetup.3t:;	${ECHO} ".so ${MANDIR}TIFFbuffer.3t" > $@
-lib/TIFFWriteBufferSetup.3t:;	${ECHO} ".so ${MANDIR}TIFFbuffer.3t" > $@
+lib/TIFFComputeTile.3t:;	${LN} ${MANDIR}TIFFtile.3t $@
+lib/TIFFCheckTile.3t:;		${LN} ${MANDIR}TIFFtile.3t $@
+lib/TIFFNumberOfTiles.3t:;	${LN} ${MANDIR}TIFFtile.3t $@
+lib/TIFFComputeStrip.3t:;	${LN} ${MANDIR}TIFFstrip.3t $@
+lib/TIFFNumberOfStrips.3t:;	${LN} ${MANDIR}TIFFstrip.3t $@
+lib/TIFFCurrentDirectory.3t:;	${LN} ${MANDIR}TIFFquery.3t $@
+lib/TIFFCurrentRow.3t:;		${LN} ${MANDIR}TIFFquery.3t $@
+lib/TIFFCurrentStrip.3t:;	${LN} ${MANDIR}TIFFquery.3t $@
+lib/TIFFCurrentTile.3t:;	${LN} ${MANDIR}TIFFquery.3t $@
+lib/TIFFFdOpen.3t:;		${LN} ${MANDIR}TIFFOpen.3t $@
+lib/TIFFFileName.3t:;		${LN} ${MANDIR}TIFFquery.3t $@
+lib/TIFFFileno.3t:;		${LN} ${MANDIR}TIFFquery.3t $@
+lib/TIFFFlushData.3t:;		${LN} ${MANDIR}TIFFFlush.3t $@
+lib/TIFFGetMode.3t:;		${LN} ${MANDIR}TIFFquery.3t $@
+lib/TIFFIsTiled.3t:;		${LN} ${MANDIR}TIFFquery.3t $@
+lib/TIFFIsByteSwapped.3t:;	${LN} ${MANDIR}TIFFquery.3t $@
+lib/TIFFIsUpSampled.3t:;	${LN} ${MANDIR}TIFFquery.3t $@
+lib/TIFFIsMSB2LSB.3t:;		${LN} ${MANDIR}TIFFquery.3t $@
+lib/TIFFLastDirectory.3t:;	${LN} ${MANDIR}TIFFquery.3t $@
+lib/TIFFReverseBits.3t:;	${LN} ${MANDIR}TIFFswab.3t $@
+lib/TIFFRGBAImageOK.3t:;	${LN} ${MANDIR}TIFFRGBAImage.3t $@
+lib/TIFFRGBAImageBegin.3t:;	${LN} ${MANDIR}TIFFRGBAImage.3t $@
+lib/TIFFRGBAImageGet.3t:;	${LN} ${MANDIR}TIFFRGBAImage.3t $@
+lib/TIFFRGBAImageEnd.3t:;	${LN} ${MANDIR}TIFFRGBAImage.3t $@
+lib/TIFFSetErrorHandler.3t:;	${LN} ${MANDIR}TIFFError.3t $@
+lib/TIFFSetSubDirectory.3t:;	${LN} ${MANDIR}TIFFSetDirectory.3t $@
+lib/TIFFSetWarningHandler.3t:;	${LN} ${MANDIR}TIFFWarning.3t $@
+lib/TIFFSwabArrayOfLong.3t:;	${LN} ${MANDIR}TIFFswab.3t $@
+lib/TIFFSwabArrayOfShort.3t:;	${LN} ${MANDIR}TIFFswab.3t $@
+lib/TIFFSwabLong.3t:;		${LN} ${MANDIR}TIFFswab.3t $@
+lib/TIFFSwabShort.3t:;		${LN} ${MANDIR}TIFFswab.3t $@
+lib/TIFFScanlineSize.3t:;	${LN} ${MANDIR}TIFFsize.3t $@
+lib/TIFFRasterScanlineSize.3t:;	${LN} ${MANDIR}TIFFsize.3t $@
+lib/TIFFDefaultStripSize.3t:;	${LN} ${MANDIR}TIFFstrip.3t $@
+lib/TIFFStripSize.3t:;		${LN} ${MANDIR}TIFFstrip.3t $@
+lib/TIFFVStripSize.3t:;		${LN} ${MANDIR}TIFFstrip.3t $@
+lib/TIFFTileSize.3t:;		${LN} ${MANDIR}TIFFtile.3t $@
+lib/TIFFVTileSize.3t:;		${LN} ${MANDIR}TIFFtile.3t $@
+lib/TIFFDefaultTileSize.3t:;	${LN} ${MANDIR}TIFFtile.3t $@
+lib/TIFFTileRowSize.3t:;	${LN} ${MANDIR}TIFFtile.3t $@
+lib/TIFFVGetField.3t:;		${LN} ${MANDIR}TIFFGetField.3t $@
+lib/TIFFVSetField.3t:;		${LN} ${MANDIR}TIFFSetField.3t $@
+lib/TIFFFindCODEC.3t:;		${LN} ${MANDIR}TIFFcodec.3t $@
+lib/TIFFRegisterCODEC.3t:;	${LN} ${MANDIR}TIFFcodec.3t $@
+lib/TIFFUnRegisterCODEC.3t:;	${LN} ${MANDIR}TIFFcodec.3t $@
+lib/TIFFmalloc.3t:;		${LN} ${MANDIR}TIFFmemory.3t $@
+lib/TIFFrealloc.3t:;		${LN} ${MANDIR}TIFFmemory.3t $@
+lib/TIFFfree.3t:;		${LN} ${MANDIR}TIFFmemory.3t $@
+lib/TIFFmemset.3t:;		${LN} ${MANDIR}TIFFmemory.3t $@
+lib/TIFFmemcpy.3t:;		${LN} ${MANDIR}TIFFmemory.3t $@
+lib/TIFFmemcmp.3t:;		${LN} ${MANDIR}TIFFmemory.3t $@
+lib/TIFFReadBufferSetup.3t:;	${LN} ${MANDIR}TIFFbuffer.3t $@
+lib/TIFFWriteBufferSetup.3t:;	${LN} ${MANDIR}TIFFbuffer.3t $@
 
 apps/Makefile:
 	test -d apps || mkdir apps
@@ -336,8 +337,7 @@
 	 ${ECHO} 'install:';						\
 	 for i in *.1; do						\
 	    f=${MANAPPNAME};						\
-	    ${ECHO} '	cd ..; ${INSTALL} -m 444 -F ${MAN}/${MANAPPS}	\
-		-idb tiff.man.tools -src' apps/"$$i" '-O' "$$f";	\
+	    ${ECHO} '	${BSD_INSTALL_MAN}' $$i ${MAN}/${MANAPPS}/$$f;	\
 	 done								\
 	)>apps/Makefile
 lib/Makefile:
@@ -348,8 +348,7 @@
 	 ${ECHO} 'install:';						\
 	 for i in *.3t; do						\
 	    f=${MANLIBNAME};						\
-	    ${ECHO} '	cd ..; ${INSTALL} -m 444 -F ${MAN}/${MANLIB}	\
-		-idb tiff.man.dev -src' lib/"$$i" '-O' "$$f";		\
+	    ${ECHO} '	${BSD_INSTALL_MAN}' $$i ${MAN}/${MANLIB}/$$f;	\
 	 done								\
 	)>lib/Makefile
 
