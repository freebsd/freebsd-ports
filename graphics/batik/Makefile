# Created by: ijliao
# $FreeBSD$

PORTNAME=	batik
PORTVERSION=	1.7
PORTREVISION=	3
CATEGORIES=	graphics java
MASTER_SITES=	APACHE/xmlgraphics/${PORTNAME}
DISTFILES=	${PORTNAME}-src-${PORTVERSION}${EXTRACT_SUFX}

MAINTAINER=	makc@FreeBSD.org
COMMENT=	Java based SVG toolkit

LICENSE=	APACHE20

CPE_VENDOR=	apache

USES=		cpe zip
USE_JAVA=	1.6+
USE_ANT=	yes
ALL_TARGET=	jars all-jar
# Prevent out of memory error during build
MAKE_ENV+=	"ANT_OPTS=-Xmx512m"

WRKSRC=		${WRKDIR}/${PORTNAME}-${PORTVERSION}
INSTALL_WRKSRC=	${WRKSRC}/${PORTNAME}-${PORTVERSION}
DATADIR=	${JAVASHAREDIR}/${PORTNAME}

PORTDOCS=	*
DOC_FILES1=	CHANGES NOTICE README

OPTIONS_DEFINE=	DOCS
DOCS_DISTFILES=	${PORTNAME}-docs-${PORTVERSION}${EXTRACT_SUFX}

do-install:
	(cd ${INSTALL_WRKSRC} && ${COPYTREE_SHARE} . ${STAGEDIR}${DATADIR})

do-install-DOCS-on:
	@${MKDIR} ${STAGEDIR}${DOCSDIR}
	${INSTALL_DATA} ${DOC_FILES1:S|^|${WRKSRC}/|} ${STAGEDIR}${DOCSDIR}
	(cd ${WRKDIR}/docs && ${COPYTREE_SHARE} . ${STAGEDIR}${DOCSDIR})

.include <bsd.port.mk>
