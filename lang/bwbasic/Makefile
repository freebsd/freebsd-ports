# Created by: msmith@gsoft.com.au
# $FreeBSD$

PORTNAME=	bwbasic
PORTVERSION=	3.10
CATEGORIES=	lang
MASTER_SITES=	SF/${PORTNAME}/${PORTNAME}/version%20${PORTVERSION}/

MAINTAINER=	ports@FreeBSD.org
COMMENT=	Bywater Basic interpreter

LICENSE=	GPLv2
LICENSE_FILE=	${WRKSRC}/COPYING

NO_WRKSUBDIR=	yes

USES=		dos2unix zip
GNU_CONFIGURE=	yes
MAKE_ARGS=	CFLAGS="${CFLAGS} -Wall -ansi"

PORTDOCS=	*
PORTEXAMPLES=	*
PORTEXAMPLES1=	B15A B15B C77A C77B D71 G65 GAMES HB1 HB1X \
		HB2 HB2X I70 M80 NBS2 NBS2X T80A T80B T80C
PLIST_FILES=	bin/${PORTNAME} \
		bin/renum

OPTIONS_DEFINE=	DOCS EXAMPLES

post-patch:
	@${CHMOD} a+x ${WRKSRC}/${CONFIGURE_SCRIPT}

post-install-DOCS-on:
	@${MKDIR} ${STAGEDIR}${DOCSDIR}
	${INSTALL_DATA} ${WRKSRC}/${PORTNAME}.doc ${STAGEDIR}${DOCSDIR}

post-install-EXAMPLES-on:
	@${MKDIR} ${STAGEDIR}${EXAMPLESDIR}
.for d in ${PORTEXAMPLES1}
	(cd ${WRKSRC}; ${COPYTREE_SHARE} ${d} ${STAGEDIR}${EXAMPLESDIR})
.endfor

.include <bsd.port.mk>
