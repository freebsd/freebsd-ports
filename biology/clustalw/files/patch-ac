--- interface.c.orig	Thu Feb 13 15:17:33 2003
+++ interface.c	Thu Feb 13 15:26:28 2003
@@ -1132,7 +1132,7 @@
 	/* added for File System Standards  - Francois */
 	path1=(char *)ckalloc((strlen(path)+64)*sizeof(char));
 	strcpy(path1,path);
-	strcat(path1,"/usr/share/clustalx:/usr/local/share/clustalx"); 
+	strcat(path1,DATADIR); 
 
         lf=(sint)strlen(fname);
         deb=path1;
@@ -1224,7 +1224,7 @@
 				if(strstr(temp, help_marker)){
 				  	if(usemenu) {
 						fprintf(stdout,"\n");
-				    		getstr("Press [RETURN] to continue",lin2);
+				    		getstr("Press [RETURN] to continue",lin2,MAXLINE);
 				  	}
 					fclose(help_file);
 					return;
@@ -1236,7 +1236,7 @@
 			       if(usemenu) {
 			          if(nlines >= PAGE_LEN) {
 				     	   fprintf(stdout,"\n");
-			 	  	   getstr("Press [RETURN] to continue or  X  to stop",lin2);
+			 	  	   getstr("Press [RETURN] to continue or  X  to stop",lin2,MAXLINE);
 				  	   if(toupper(*lin2) == 'X') {
 						   fclose(help_file);
 						   return;
@@ -1248,7 +1248,7 @@
 			}
 			if(usemenu) {
 				fprintf(stdout,"\n");
-				getstr("Press [RETURN] to continue",lin2);
+				getstr("Press [RETURN] to continue",lin2,MAXLINE);
 			}
 			fclose(help_file);
 		}
@@ -1287,7 +1287,7 @@
                 ++nlines;
                 if(nlines >= PAGE_LEN) {
                         fprintf(stdout,"\n");
-                        getstr("Press [RETURN] to continue or  X  to stop",lin2);
+                        getstr("Press [RETURN] to continue or  X  to stop",lin2,MAXLINE);
                         if(toupper(*lin2) == 'X') {
                                 fclose(file);
                                 return;
@@ -1298,7 +1298,7 @@
         }
         fclose(file);
         fprintf(stdout,"\n");
-        getstr("Press [RETURN] to continue",lin2);
+        getstr("Press [RETURN] to continue",lin2,MAXLINE);
 }
 
 
@@ -1747,7 +1747,7 @@
         FILE *infile;
 
         if(usemenu)
-                getstr("Enter name of the matrix file",lin2);
+                getstr("Enter name of the matrix file",lin2,MAXLINE);
         else
                 strcpy(lin2,str);
 
@@ -1773,7 +1773,7 @@
         FILE *infile;
 
         if(usemenu)
-                getstr("Enter name of the matrix file",lin2);
+                getstr("Enter name of the matrix file",lin2,MAXLINE);
         else
                 strcpy(lin2,str);
 
@@ -2176,7 +2176,7 @@
 			strcpy(local_prompt,"\n\nEnter new name to avoid overwriting ");
 			strcat(local_prompt," [%s]: ");          
 			fprintf(stdout,local_prompt,file_name);
-			gets(temp);
+			fgets(temp,FILENAMELEN+1,stdin); if(*temp != EOS) temp[strlen(temp)-1]=EOS;
 			if(*temp != EOS) strcpy(file_name,temp);
 		}
 	}
@@ -2184,7 +2184,7 @@
 		strcpy(local_prompt,prompt);
 		strcat(local_prompt," [%s]: ");          
 		fprintf(stdout,local_prompt,file_name);
-		gets(temp);
+		fgets(temp,FILENAMELEN+1,stdin); if(*temp != EOS) temp[strlen(temp)-1]=EOS;
 		if(*temp != EOS) strcpy(file_name,temp);
 	}
 
@@ -2385,7 +2385,7 @@
 		if (usemenu)
             	fprintf(stdout,"\nUse the existing GUIDE TREE file,  %s  (y/n) ? [y]: ",
                                            tree_name);
-                gets(temp);
+                fgets(temp,MAXLINE,stdin); if(*temp != EOS) temp[strlen(temp)-1]=EOS;
                 if(*temp != 'n' && *temp != 'N') {
                     strcpy(phylip_name,tree_name);
                     use_tree = TRUE;
@@ -2617,7 +2617,7 @@
 
             fprintf(stdout,"\nEnter a name for the guide tree file [%s]: ",
                                            phylip_name);
-                	gets(temp);
+			fgets(temp,MAXLINE,stdin); if(*temp != EOS) temp[strlen(temp)-1]=EOS;
                 	if(*temp != EOS)
                         	strcpy(phylip_name,temp);
         	}
@@ -2719,7 +2719,7 @@
 #endif
             	fprintf(stdout,"\nUse the existing GUIDE TREE file for Profile 1,  %s  (y/n) ? [y]: ",
                                            tree_name);
-                gets(temp);
+                fgets(temp,MAXLINE,stdin); if(*temp != EOS) temp[strlen(temp)-1]=EOS;
                 if(*temp != 'n' && *temp != 'N') {
                     strcpy(p1_tree_name,tree_name);
                     use_tree1 = TRUE;
@@ -2745,7 +2745,7 @@
 #endif
             	fprintf(stdout,"\nUse the existing GUIDE TREE file for Profile 2,  %s  (y/n) ? [y]: ",
                                            tree_name);
-                gets(temp);
+                fgets(temp,MAXLINE,stdin); if(*temp != EOS) temp[strlen(temp)-1]=EOS;
                 if(*temp != 'n' && *temp != 'N') {
                     strcpy(p2_tree_name,tree_name);
                     use_tree2 = TRUE;
@@ -4203,7 +4203,7 @@
   if(usemenu) {
     fprintf(stdout,"\nEnter a name for the parameter output file [%s]: ",
 	    parname);
-    gets(temp);
+    fgets(temp,FILENAMELEN+1,stdin); if(*temp != EOS) temp[strlen(temp)-1]=EOS;
     if(*temp != EOS)
       strcpy(parname,temp);
   }
