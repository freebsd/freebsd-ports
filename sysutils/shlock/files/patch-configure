--- configure.orig	Sun Dec 22 15:00:38 2002
+++ configure	Sun Jan 26 01:15:05 2003
@@ -958,23 +958,6 @@
 
 
 
-# Check whether --with-perl or --without-perl was given.
-if test "${with_perl+set}" = set; then
-  withval="$with_perl"
-  case "${withval}" in
-        yes) DO_PERL=DO
-             cat >> confdefs.h <<\EOF
-#define DO_PERL 1
-EOF
-
-             ;;
-        no)  DO_PERL=DONT ;;
-        *)   { echo "configure: error: invalid argument to --with-perl or --without-perl" 1>&2; exit 1; } ;;
-    esac
-else
-  DO_PERL=DONT
-fi
-
 
 # Check whether --with-python or --without-python was given.
 if test "${with_python+set}" = set; then
@@ -2573,46 +2556,6 @@
     fi
 
 
-    # Extract the first word of "perl", so it can be a program name with args.
-set dummy perl; ac_word=$2
-echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
-echo "configure:2580: checking for $ac_word" >&5
-if eval "test \"`echo '$''{'ac_cv_path__PATH_PERL'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
-else
-  case "$_PATH_PERL" in
-  /*)
-  ac_cv_path__PATH_PERL="$_PATH_PERL" # Let the user override the test with a path.
-  ;;
-  ?:/*)			 
-  ac_cv_path__PATH_PERL="$_PATH_PERL" # Let the user override the test with a dos path.
-  ;;
-  *)
-  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
-  ac_dummy="$PATH"
-  for ac_dir in $ac_dummy; do 
-    test -z "$ac_dir" && ac_dir=.
-    if test -f $ac_dir/$ac_word; then
-      ac_cv_path__PATH_PERL="$ac_dir/$ac_word"
-      break
-    fi
-  done
-  IFS="$ac_save_ifs"
-  ;;
-esac
-fi
-_PATH_PERL="$ac_cv_path__PATH_PERL"
-if test -n "$_PATH_PERL"; then
-  echo "$ac_t""$_PATH_PERL" 1>&6
-else
-  echo "$ac_t""no" 1>&6
-fi
-
-    if test -z "${_PATH_PERL}" ; then
-        { echo "configure: error: perl was not found in path and is required" 1>&2; exit 1; }
-    fi
-
-
     # Extract the first word of "sh", so it can be a program name with args.
 set dummy sh; ac_word=$2
 echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
@@ -2732,44 +2675,6 @@
         { echo "configure: error: sort was not found in path and is required" 1>&2; exit 1; }
     fi
 
-
-inn_perl_command='print $]'
-
-
-if test x"$DO_PERL" = xDO ; then
-    echo $ac_n "checking for Perl version""... $ac_c" 1>&6
-echo "configure:2742: checking for Perl version" >&5
-if eval "test \"`echo '$''{'inn_cv_perl_version'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
-else
-  
-    if $_PATH_PERL -e 'require 5.004;' > /dev/null 2>&1 ; then
-        inn_cv_perl_version=`$_PATH_PERL -e "$inn_perl_command"`
-    else
-        { echo "configure: error: Perl 5.004 or greater is required" 1>&2; exit 1; }
-    fi
-
-fi
-
-echo "$ac_t""$inn_cv_perl_version" 1>&6
-else
-    echo $ac_n "checking for Perl version""... $ac_c" 1>&6
-echo "configure:2758: checking for Perl version" >&5
-if eval "test \"`echo '$''{'inn_cv_perl_version'+set}'`\" = set"; then
-  echo $ac_n "(cached) $ac_c" 1>&6
-else
-  
-    if $_PATH_PERL -e 'require 5.003;' > /dev/null 2>&1 ; then
-        inn_cv_perl_version=`$_PATH_PERL -e "$inn_perl_command"`
-    else
-        { echo "configure: error: Perl 5.003 or greater is required" 1>&2; exit 1; }
-    fi
-
-fi
-
-echo "$ac_t""$inn_cv_perl_version" 1>&6
-fi
-
 pgpverify=true
 for ac_prog in gpgv
 do
@@ -3932,35 +3837,6 @@
 fi
 LIBS=$inn_save_LIBS
 
-
-if test x"$DO_PERL" = xDO ; then
-    echo $ac_n "checking for Perl linkage""... $ac_c" 1>&6
-echo "configure:3939: checking for Perl linkage" >&5
-    inn_perl_core_path=`$_PATH_PERL -MConfig -e 'print $Config{archlibexp}'`
-    inn_perl_core_flags=`$_PATH_PERL -MExtUtils::Embed -e ccopts`
-    inn_perl_core_libs=`$_PATH_PERL -MExtUtils::Embed -e ldopts 2>&1 | tail -1`
-    inn_perl_core_libs=" $inn_perl_core_libs "
-    for i in $LIBS ; do
-        inn_perl_core_libs=`echo "$inn_perl_core_libs" | sed "s/ $i / /"`
-    done
-    case $host in
-    *-linux*)
-        inn_perl_core_libs=`echo "$inn_perl_core_libs" | sed 's/ -lgdbm / /'`
-        ;;
-    esac
-    inn_perl_core_libs=`echo "$inn_perl_core_libs" | sed 's/^  *//'`
-    inn_perl_core_libs=`echo "$inn_perl_core_libs" | sed 's/  *$//'`
-    inn_perl_core_flags=`echo "$inn_perl_core_flags" | sed 's/^  *//'`
-    PERL_INC="$inn_perl_core_flags"
-    PERL_LIB="$inn_perl_core_libs"
-    echo "$ac_t""$inn_perl_core_path" 1>&6
-else
-    PERL_INC=''
-    PERL_LIB=''
-fi
-
-
-
 if test x"$DO_PYTHON" = xdefine ; then
     echo $ac_n "checking for Python linkage""... $ac_c" 1>&6
 echo "configure:3967: checking for Python linkage" >&5
@@ -7481,7 +7357,6 @@
 s%@CTAGS@%$CTAGS%g
 s%@_PATH_AWK@%$_PATH_AWK%g
 s%@_PATH_EGREP@%$_PATH_EGREP%g
-s%@_PATH_PERL@%$_PATH_PERL%g
 s%@_PATH_SH@%$_PATH_SH%g
 s%@_PATH_SED@%$_PATH_SED%g
 s%@_PATH_SORT@%$_PATH_SORT%g
@@ -7498,8 +7373,6 @@
 s%@THREADLIB@%$THREADLIB%g
 s%@THREADFLAGS@%$THREADFLAGS%g
 s%@DBM_LIB@%$DBM_LIB%g
-s%@PERL_INC@%$PERL_INC%g
-s%@PERL_LIB@%$PERL_LIB%g
 s%@PYTHON_LIB@%$PYTHON_LIB%g
 s%@PYTHON_INC@%$PYTHON_INC%g
 s%@GETCONF@%$GETCONF%g
@@ -7765,28 +7638,4 @@
       problems.
 EOF
     fi
-fi
-
-if $_PATH_PERL -e "exit((stat('$TMPPATH'))[2] & 2)" > /dev/null ; then
-    :
-else
-    cat <<EOM
-
-WARNING WARNING WARNING WARNING WARNING WARNING WARNING WARNING WARNING WARNING
-
-  The temporary directory you have configured is world-writeable.  It is
-  currently set to $TMPPATH.
-
-  This directory is used by INN for temporary files and should only be
-  writeable by the news user.  INN does not go to great lengths to prevent
-  symlink attacks and the like because it assumes this directory is not
-  world-writeable.  By configuring INN in this fashion, you may be
-  introducing a locally exploitable security hole.
-
-  It is STRONGLY recommended that you use a temporary directory reserved for
-  INN's exclusive use, one which is not world-writeable.  You can do this
-  either with --with-tmp-dir or by setting --prefix to something other than
-  /usr or /.
-
-EOM
 fi
