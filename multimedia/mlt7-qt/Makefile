PORTREVISION=	0
CATEGORIES=	multimedia kde
PKGNAMESUFFIX=	-qt6

COMMENT=	Qt plugin for the MLT multimedia framework

LICENSE=	GPLv2 GPLv3
LICENSE_COMB=	multi

LIB_DEPENDS=	libexif.so:graphics/libexif \
		libfftw3.so:math/fftw3

USES=		compiler:c++17-lang gl mlt:7 qt:6 xorg
USE_GL=		opengl
USE_QT=		5compat base svg
USE_XORG=	x11

# Only enable Qt binding, and disable everything else
CMAKE_ON=	MOD_QT6
CMAKE_OFF=	MOD_AVFORMAT MOD_DECKLINK MOD_FEEDS MOD_FREI0R MOD_GDK MOD_GTK2 \
		MOD_JACKRACK MOD_KDENLIVE MOD_LUMAS MOD_MOTION_EST MOD_MOVIT MOD_NORMALIZE \
		MOD_OLDFILM MOD_OPENCV MOD_OPENGL MOD_PLUSGPL MOD_PLUS MOD_RESAMPLE \
		MOD_RTAUDIO MOD_RUBBERBAND MOD_SDL2 MOD_SOX MOD_VIDSTAB MOD_VMFX \
		MOD_VORBIS MOD_XINE MOD_XML \
		SWIG_CSHARP SWIG_JAVA SWIG_LUA SWIG_NODEJS SWIG_PERL \
		SWIG_PHP SWIG_PYTHON SWIG_RUBY SWIG_TCL \
		USE_LV2 USE_VST2

MASTERDIR=	${.CURDIR:H}/mlt7
PORTSCOUT=	ignore:1

BUILD_WRKSRC=	${WRKDIR}/.build/src/modules/qt
INSTALL_WRKSRC=	${BUILD_WRKSRC}

PLIST=		${.CURDIR}/pkg-plist

_MLT_EXTRA_MOD=	qt

.include "${MASTERDIR}/Makefile"
