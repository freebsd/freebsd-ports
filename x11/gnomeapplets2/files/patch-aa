--- configure.orig	Mon Dec 16 17:15:36 2002
+++ configure	Thu Dec 19 13:43:27 2002
@@ -7862,6 +7862,7 @@
 
 # This can be used to rebuild libtool when needed
 LIBTOOL_DEPS="$ac_aux_dir/ltmain.sh"
+c_aux_dir/ltconfig $LIBTOOL_DEPS
 
 # Always use our own libtool.
 LIBTOOL='$(SHELL) $(top_builddir)/libtool'
@@ -12328,6 +12329,7 @@
 *irix*) CDROM_HOST=irix; CDROM_LIBS="-lcdaudio -lmediad -lds";cd_device_path="/dev/cdrom";;
 *linux*) CDROM_HOST=linux;cd_device_path="/dev/cdrom";;
 *netbsd*) CDROM_HOST=netbsd;cd_device_path="/dev/rcd0";;
+*freebsd*) CDROM_HOST=freebsd;cd_device_path="/dev/acd0c";;
 *solaris*) CDROM_HOST=solaris;cd_device_path="/vol/dev/aliases/cdrom0";cdplayer_type_sun=true;;
 esac
 case "$host" in
@@ -12391,6 +12393,20 @@
 fi
 
 	;;
+  i386-*-freebsd*)
+      HAVE_LIBAPM=no
+if test "x$HAVE_LIBAPM" = "xyes"; then
+    HAVE_LIBAPM_TRUE=
+    HAVE_LIBAPM_FALSE='#'
+else
+    HAVE_LIBAPM_TRUE='#'
+    HAVE_LIBAPM_FALSE=
+fi
+    ;;
+  *-*-freebsd*)
+      build_battstat_applet=no
+
+    ;;
   *-*-linux*)
 	echo "$as_me:$LINENO: checking for apm_read in -lapm" >&5
 echo $ECHO_N "checking for apm_read in -lapm... $ECHO_C" >&6
@@ -13688,14 +13704,14 @@
 ACLOCAL="$ACLOCAL $ACLOCAL_FLAGS"
 
 cat >>confdefs.h <<_ACEOF
-#define GNOME_ICONDIR "${prefix}/share/pixmaps"
+#define GNOME_ICONDIR "${datadir}/pixmaps"
 _ACEOF
 
 
 #defined the below to enable help to work for applets
 
 cat >>confdefs.h <<_ACEOF
-#define DATADIR "${prefix}/share"
+#define DATADIR "${datadir}"
 _ACEOF
 
 cat >>confdefs.h <<_ACEOF
